"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1082],{41082:(t,e,r)=>{r.d(e,{S:()=>K});class s{constructor(t){this.config=t}}class i extends Error{constructor(t,e,r){super(r),this.name="ApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.body=e.body,this.request=t}}var a=r(95359),o=r(50587),n=r(75465);class u extends Error{get isCancelled(){return!0}constructor(t){super(t),this.name="CancelError"}}var l=new WeakMap,h=new WeakMap,c=new WeakMap,d=new WeakMap,p=new WeakMap,y=new WeakMap,v=new WeakMap;let E=Symbol.toStringTag;class m{get[E](){return"Cancellable Promise"}then(t,e){return(0,a._)(this,p).then(t,e)}catch(t){return(0,a._)(this,p).catch(t)}finally(t){return(0,a._)(this,p).finally(t)}cancel(){if(!((0,a._)(this,l)||(0,a._)(this,h)||(0,a._)(this,c))){if((0,n._)(this,c,!0),(0,a._)(this,d).length)try{for(let t of(0,a._)(this,d))t()}catch(t){console.warn("Cancellation threw an error",t);return}(0,a._)(this,d).length=0,(0,a._)(this,v)&&(0,a._)(this,v).call(this,new u("Request aborted"))}}get isCancelled(){return(0,a._)(this,c)}constructor(t){(0,o._)(this,l,{writable:!0,value:void 0}),(0,o._)(this,h,{writable:!0,value:void 0}),(0,o._)(this,c,{writable:!0,value:void 0}),(0,o._)(this,d,{writable:!0,value:void 0}),(0,o._)(this,p,{writable:!0,value:void 0}),(0,o._)(this,y,{writable:!0,value:void 0}),(0,o._)(this,v,{writable:!0,value:void 0}),(0,n._)(this,l,!1),(0,n._)(this,h,!1),(0,n._)(this,c,!1),(0,n._)(this,d,[]),(0,n._)(this,p,new Promise((e,r)=>{(0,n._)(this,y,e),(0,n._)(this,v,r);let s=t=>{(0,a._)(this,l)||(0,a._)(this,h)||(0,a._)(this,c)||(0,a._)(this,d).push(t)};return Object.defineProperty(s,"isResolved",{get:()=>(0,a._)(this,l)}),Object.defineProperty(s,"isRejected",{get:()=>(0,a._)(this,h)}),Object.defineProperty(s,"isCancelled",{get:()=>(0,a._)(this,c)}),t(t=>{!((0,a._)(this,l)||(0,a._)(this,h)||(0,a._)(this,c))&&((0,n._)(this,l,!0),(0,a._)(this,y)&&(0,a._)(this,y).call(this,t))},t=>{!((0,a._)(this,l)||(0,a._)(this,h)||(0,a._)(this,c))&&((0,n._)(this,h,!0),(0,a._)(this,v)&&(0,a._)(this,v).call(this,t))},s)}))}}var q=r(95714).Buffer;let b=t=>null!=t,g=t=>"string"==typeof t,f=t=>g(t)&&""!==t,R=t=>"object"==typeof t&&"string"==typeof t.type&&"function"==typeof t.stream&&"function"==typeof t.arrayBuffer&&"function"==typeof t.constructor&&"string"==typeof t.constructor.name&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),T=t=>t instanceof FormData,_=t=>{try{return btoa(t)}catch(e){return q.from(t).toString("base64")}},w=t=>{let e=[],r=(t,r)=>{e.push("".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(String(r))))},s=(t,e)=>{b(e)&&(Array.isArray(e)?e.forEach(e=>{s(t,e)}):"object"==typeof e?Object.entries(e).forEach(e=>{let[r,i]=e;s("".concat(t,"[").concat(r,"]"),i)}):r(t,e))};return(Object.entries(t).forEach(t=>{let[e,r]=t;s(e,r)}),e.length>0)?"?".concat(e.join("&")):""},S=(t,e)=>{let r=t.ENCODE_PATH||encodeURI,s=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(t,s)=>{var i;return(null===(i=e.path)||void 0===i?void 0:i.hasOwnProperty(s))?r(String(e.path[s])):t}),i="".concat(t.BASE).concat(s);return e.query?"".concat(i).concat(w(e.query)):i},A=t=>{if(t.formData){let e=new FormData,r=(t,r)=>{g(r)||R(r)?e.append(t,r):e.append(t,JSON.stringify(r))};return Object.entries(t.formData).filter(t=>{let[e,r]=t;return b(r)}).forEach(t=>{let[e,s]=t;Array.isArray(s)?s.forEach(t=>r(e,t)):r(e,s)}),e}},O=async(t,e)=>"function"==typeof e?e(t):e,C=async(t,e)=>{let[r,s,i,a]=await Promise.all([O(e,t.TOKEN),O(e,t.USERNAME),O(e,t.PASSWORD),O(e,t.HEADERS)]),o=Object.entries({Accept:"application/json",...a,...e.headers}).filter(t=>{let[e,r]=t;return b(r)}).reduce((t,e)=>{let[r,s]=e;return{...t,[r]:String(s)}},{});if(f(r)&&(o.Authorization="Bearer ".concat(r)),f(s)&&f(i)){let t=_("".concat(s,":").concat(i));o.Authorization="Basic ".concat(t)}return void 0===e.body||(e.mediaType?o["Content-Type"]=e.mediaType:R(e.body)?o["Content-Type"]=e.body.type||"application/octet-stream":g(e.body)?o["Content-Type"]="text/plain":T(e.body)||(o["Content-Type"]="application/json")),new Headers(o)},D=t=>{if(void 0!==t.body){var e;return(null===(e=t.mediaType)||void 0===e?void 0:e.includes("/json"))?JSON.stringify(t.body):g(t.body)||R(t.body)||T(t.body)?t.body:JSON.stringify(t.body)}},V=async(t,e,r,s,i,a,o)=>{let n=new AbortController,u={headers:a,body:null!=s?s:i,method:e.method,signal:n.signal};return t.WITH_CREDENTIALS&&(u.credentials=t.CREDENTIALS),o(()=>n.abort()),await fetch(r,u)},P=(t,e)=>{if(e){let r=t.headers.get(e);if(g(r))return r}},G=async t=>{if(204!==t.status)try{let e=t.headers.get("Content-Type");if(e){if(["application/json","application/problem+json"].some(t=>e.toLowerCase().startsWith(t)))return await t.json();return await t.text()}}catch(t){console.error(t)}},N=(t,e)=>{let r={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(r)throw new i(t,e,r);if(!e.ok){var s,a;let r=null!==(s=e.status)&&void 0!==s?s:"unknown",o=null!==(a=e.statusText)&&void 0!==a?a:"unknown",n=(()=>{try{return JSON.stringify(e.body,null,2)}catch(t){return}})();throw new i(t,e,"Generic Error: status: ".concat(r,"; status text: ").concat(o,"; body: ").concat(n))}},M=(t,e)=>new m(async(r,s,i)=>{try{let s=S(t,e),a=A(e),o=D(e),n=await C(t,e);if(!i.isCancelled){let u=await V(t,e,s,o,a,n,i),l=await G(u),h=P(u,e.responseHeader),c={url:s,ok:u.ok,status:u.status,statusText:u.statusText,body:null!=h?h:l};N(e,c),r(c.body)}}catch(t){s(t)}});class I extends s{request(t){return M(this.config,t)}constructor(t){super(t)}}class j{loginForAccessTokenApiV1AuthLoginPost(t){let{formData:e}=t;return this.httpRequest.request({method:"POST",url:"/api/v1/auth/login",formData:e,mediaType:"application/x-www-form-urlencoded",errors:{422:"Validation Error"}})}syncUserEndpointApiV1AuthSyncPost(){return this.httpRequest.request({method:"POST",url:"/api/v1/auth/sync"})}constructor(t){this.httpRequest=t}}class k{readDatasourcesApiV1DatasourcesGet(t){let{category:e,isCommon:r}=t;return this.httpRequest.request({method:"GET",url:"/api/v1/datasources/",query:{category:e,is_common:r},errors:{422:"Validation Error"}})}requestDatasourceApiV1DatasourcesRequestPost(t){let{requestBody:e}=t;return this.httpRequest.request({method:"POST",url:"/api/v1/datasources/request",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}readRequestsApiV1DatasourcesRequestsGet(){return this.httpRequest.request({method:"GET",url:"/api/v1/datasources/requests"})}constructor(t){this.httpRequest=t}}class x{healthCheckHealthGet(){return this.httpRequest.request({method:"GET",url:"/health"})}constructor(t){this.httpRequest=t}}class B{streamEventsApiV1DevEventsGet(){return this.httpRequest.request({method:"GET",url:"/api/v1/dev/events"})}resetOnboardingApiV1DevResetOnboardingPost(){return this.httpRequest.request({method:"POST",url:"/api/v1/dev/reset-onboarding"})}purgeDataApiV1DevPurgeDataPost(){return this.httpRequest.request({method:"POST",url:"/api/v1/dev/purge-data"})}constructor(t){this.httpRequest=t}}class H{healthCheckFullApiV1HealthFullGet(){return this.httpRequest.request({method:"GET",url:"/api/v1/health/full"})}constructor(t){this.httpRequest=t}}class W{getMetricsOverviewApiV1MetricsOverviewGet(){return this.httpRequest.request({method:"GET",url:"/api/v1/metrics/overview"})}getBusinessMetricsApiV1MetricsBusinessGet(t){let{days:e=30}=t;return this.httpRequest.request({method:"GET",url:"/api/v1/metrics/business",query:{days:e},errors:{422:"Validation Error"}})}getOnboardingMetricsApiV1MetricsOnboardingGet(){return this.httpRequest.request({method:"GET",url:"/api/v1/metrics/onboarding"})}getIntegrationMetricsApiV1MetricsIntegrationsGet(){return this.httpRequest.request({method:"GET",url:"/api/v1/metrics/integrations"})}getCustomerMetricsApiV1MetricsCustomersGet(t){let{limit:e=50,offset:r}=t;return this.httpRequest.request({method:"GET",url:"/api/v1/metrics/customers",query:{limit:e,offset:r},errors:{422:"Validation Error"}})}getUserMetricsApiV1MetricsUsersGet(t){let{days:e=7}=t;return this.httpRequest.request({method:"GET",url:"/api/v1/metrics/users",query:{days:e},errors:{422:"Validation Error"}})}exportCustomersCsvApiV1MetricsExportCustomersGet(){return this.httpRequest.request({method:"GET",url:"/api/v1/metrics/export/customers"})}calculateDailyMetricsApiV1MetricsCalculateDailyPost(t){let{targetDate:e}=t;return this.httpRequest.request({method:"POST",url:"/api/v1/metrics/calculate/daily",query:{target_date:e},errors:{422:"Validation Error"}})}constructor(t){this.httpRequest=t}}class U{getOnboardingStatusApiV1OnboardingStateGet(){return this.httpRequest.request({method:"GET",url:"/api/v1/onboarding/state"})}saveProgressApiV1OnboardingSavePost(t){let{requestBody:e}=t;return this.httpRequest.request({method:"POST",url:"/api/v1/onboarding/save",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}finishOnboardingApiV1OnboardingFinishPost(){return this.httpRequest.request({method:"POST",url:"/api/v1/onboarding/finish"})}saveStepApiV1OnboardingStepPost(t){let{requestBody:e}=t;return this.httpRequest.request({method:"POST",url:"/api/v1/onboarding/step",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}constructor(t){this.httpRequest=t}}class F{readCompany(t){return this.httpRequest.request({method:"GET",url:"/api/v1/companies/{id}",path:{id:t},errors:{404:"Company not found",422:"Validation Error"}})}constructor(t){this.httpRequest=t}}class L{constructor(t,e=I){var r,s,i,a;this.request=new e({BASE:null!==(r=null==t?void 0:t.BASE)&&void 0!==r?r:"",VERSION:null!==(s=null==t?void 0:t.VERSION)&&void 0!==s?s:"0.1.0",WITH_CREDENTIALS:null!==(i=null==t?void 0:t.WITH_CREDENTIALS)&&void 0!==i&&i,CREDENTIALS:null!==(a=null==t?void 0:t.CREDENTIALS)&&void 0!==a?a:"include",TOKEN:null==t?void 0:t.TOKEN,USERNAME:null==t?void 0:t.USERNAME,PASSWORD:null==t?void 0:t.PASSWORD,HEADERS:null==t?void 0:t.HEADERS,ENCODE_PATH:null==t?void 0:t.ENCODE_PATH}),this.auth=new j(this.request),this.datasources=new k(this.request),this.default=new x(this.request),this.dev=new B(this.request),this.health=new H(this.request),this.metrics=new W(this.request),this.onboarding=new U(this.request),this.companies=new F(this.request)}}var J=r(89664);let K=new L({BASE:"",TOKEN:async()=>{let t=J.auth.currentUser;return t?await t.getIdToken():""},HEADERS:async()=>{let t=localStorage.getItem("unclutr_company_id");return t?{"X-Company-ID":t}:{}}})}}]);