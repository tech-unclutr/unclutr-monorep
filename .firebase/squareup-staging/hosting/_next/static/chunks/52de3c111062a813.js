(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87316,61277,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["default",()=>t],61277),e.s(["Calendar",()=>t],87316)},10708,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.i(74080);var r=e.i(91918),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let n=(0,r.createSlot)(`Primitive.${i}`),s=a.forwardRef((e,a)=>{let{asChild:r,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?n:i,{...s,ref:a})});return s.displayName=`Primitive.${i}`,{...e,[i]:s}},{}),n=a.forwardRef((e,a)=>(0,t.jsx)(i.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var s=e.i(25913),o=e.i(47163);let l=(0,s.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(n,{ref:r,className:(0,o.cn)(l(),e),...a}));c.displayName=n.displayName,e.s(["Label",()=>c],10708)},12381,87652,e=>{"use strict";var t=e.i(87022),a=e.i(74008),r=e.i(86427),i=e.i(71645),n=e.i(37806),s=e.i(47414);function o(e){let t=(0,s.useConstant)(()=>(0,r.motionValue)(e)),{isStatic:a}=(0,i.useContext)(n.MotionConfigContext);if(a){let[,a]=(0,i.useState)(e);(0,i.useEffect)(()=>t.on("change",a),[])}return t}function l(e,r){let i=o(r()),n=()=>i.set(r());return n(),(0,a.useIsomorphicLayoutEffect)(()=>{let a=()=>t.frame.preRender(n,!1,!0),r=e.map(e=>e.on("change",a));return()=>{r.forEach(e=>e()),(0,t.cancelFrame)(n)}}),i}e.s(["useMotionValue",()=>o],87652),e.s(["useCombineMotionValues",()=>l],12381)},72520,63921,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["default",()=>t],63921),e.s(["ArrowRight",()=>t],72520)},95242,e=>{"use strict";let t=(0,e.i(75254).default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);e.s(["Pause",()=>t],95242)},31343,e=>{"use strict";let t=(0,e.i(75254).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);e.s(["Play",()=>t],31343)},1851,85890,14522,e=>{"use strict";var t=e.i(55545),a=e.i(55024),r=e.i(99151),i=e.i(45110),n=e.i(34662),s=e.i(81092);function o(e,t){let a=(0,s.toDate)(e,t?.in);return a.setHours(0,0,0,0),a}function l(e,t){let r=(0,a.getDefaultOptions)(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,n=(0,s.toDate)(e,t?.in),o=n.getDay();return n.setDate(n.getDate()-(7*(o<i)+o-i)),n.setHours(0,0,0,0),n}function c(e,t){return l(e,{...t,weekStartsOn:1})}e.s(["startOfDay",()=>o],85890),e.s(["startOfWeek",()=>l],14522);var d=e.i(77241);function u(e,t){let a=(0,s.toDate)(e,t?.in),r=a.getFullYear(),i=(0,d.constructFrom)(a,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let n=c(i),o=(0,d.constructFrom)(a,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);let l=c(o);return a.getTime()>=n.getTime()?r+1:a.getTime()>=l.getTime()?r:r-1}function h(e,t){let r=(0,s.toDate)(e,t?.in),i=r.getFullYear(),n=(0,a.getDefaultOptions)(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=(0,d.constructFrom)(t?.in||e,0);c.setFullYear(i+1,0,o),c.setHours(0,0,0,0);let u=l(c,t),h=(0,d.constructFrom)(t?.in||e,0);h.setFullYear(i,0,o),h.setHours(0,0,0,0);let m=l(h,t);return+r>=+u?i+1:+r>=+m?i:i-1}function m(e,t){let a=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+a}let x={y(e,t){let a=e.getFullYear(),r=a>0?a:1-a;return m("yy"===t?r%100:r,t.length)},M(e,t){let a=e.getMonth();return"M"===t?String(a+1):m(a+1,2)},d:(e,t)=>m(e.getDate(),t.length),a(e,t){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];default:return"am"===a?"a.m.":"p.m."}},h:(e,t)=>m(e.getHours()%12||12,t.length),H:(e,t)=>m(e.getHours(),t.length),m:(e,t)=>m(e.getMinutes(),t.length),s:(e,t)=>m(e.getSeconds(),t.length),S(e,t){let a=t.length;return m(Math.trunc(e.getMilliseconds()*Math.pow(10,a-3)),t.length)}},g={G:function(e,t,a){let r=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});default:return a.era(r,{width:"wide"})}},y:function(e,t,a){if("yo"===t){let t=e.getFullYear();return a.ordinalNumber(t>0?t:1-t,{unit:"year"})}return x.y(e,t)},Y:function(e,t,a,r){let i=h(e,r),n=i>0?i:1-i;return"YY"===t?m(n%100,2):"Yo"===t?a.ordinalNumber(n,{unit:"year"}):m(n,t.length)},R:function(e,t){return m(u(e),t.length)},u:function(e,t){return m(e.getFullYear(),t.length)},Q:function(e,t,a){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return m(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,a){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return m(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,a){let r=e.getMonth();switch(t){case"M":case"MM":return x.M(e,t);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,a){let r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return m(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,r,i){let o,c,u,x,g,p=Math.round((l(o=(0,s.toDate)(e,i?.in),i)-(c=(0,a.getDefaultOptions)(),u=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??c.firstWeekContainsDate??c.locale?.options?.firstWeekContainsDate??1,x=h(o,i),(g=(0,d.constructFrom)(i?.in||o,0)).setFullYear(x,0,u),g.setHours(0,0,0,0),l(g,i)))/n.millisecondsInWeek)+1;return"wo"===t?r.ordinalNumber(p,{unit:"week"}):m(p,t.length)},I:function(e,t,a){let r,i,o,l=Math.round((c(r=(0,s.toDate)(e,void 0))-(i=u(r,void 0),(o=(0,d.constructFrom)(r,0)).setFullYear(i,0,4),o.setHours(0,0,0,0),c(o)))/n.millisecondsInWeek)+1;return"Io"===t?a.ordinalNumber(l,{unit:"week"}):m(l,t.length)},d:function(e,t,a){return"do"===t?a.ordinalNumber(e.getDate(),{unit:"date"}):x.d(e,t)},D:function(e,t,a){let l,c,d=function(e,t,a){let[s,l]=(0,i.normalizeDates)(void 0,e,t),c=o(s),d=o(l);return Math.round((c-(0,r.getTimezoneOffsetInMilliseconds)(c)-(d-(0,r.getTimezoneOffsetInMilliseconds)(d)))/n.millisecondsInDay)}(l=(0,s.toDate)(e,void 0),((c=(0,s.toDate)(l,void 0)).setFullYear(c.getFullYear(),0,1),c.setHours(0,0,0,0),c))+1;return"Do"===t?a.ordinalNumber(d,{unit:"dayOfYear"}):m(d,t.length)},E:function(e,t,a){let r=e.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,a,r){let i=e.getDay(),n=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(n);case"ee":return m(n,2);case"eo":return a.ordinalNumber(n,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,a,r){let i=e.getDay(),n=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(n);case"cc":return m(n,t.length);case"co":return a.ordinalNumber(n,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,a){let r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return m(i,t.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,a){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,a){let r,i=e.getHours();switch(r=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,a){let r,i=e.getHours();switch(r=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",t){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,a){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),a.ordinalNumber(t,{unit:"hour"})}return x.h(e,t)},H:function(e,t,a){return"Ho"===t?a.ordinalNumber(e.getHours(),{unit:"hour"}):x.H(e,t)},K:function(e,t,a){let r=e.getHours()%12;return"Ko"===t?a.ordinalNumber(r,{unit:"hour"}):m(r,t.length)},k:function(e,t,a){let r=e.getHours();return(0===r&&(r=24),"ko"===t)?a.ordinalNumber(r,{unit:"hour"}):m(r,t.length)},m:function(e,t,a){return"mo"===t?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):x.m(e,t)},s:function(e,t,a){return"so"===t?a.ordinalNumber(e.getSeconds(),{unit:"second"}):x.s(e,t)},S:function(e,t){return x.S(e,t)},X:function(e,t,a){let r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return b(r);case"XXXX":case"XX":return f(r);default:return f(r,":")}},x:function(e,t,a){let r=e.getTimezoneOffset();switch(t){case"x":return b(r);case"xxxx":case"xx":return f(r);default:return f(r,":")}},O:function(e,t,a){let r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+p(r,":");default:return"GMT"+f(r,":")}},z:function(e,t,a){let r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+p(r,":");default:return"GMT"+f(r,":")}},t:function(e,t,a){return m(Math.trunc(e/1e3),t.length)},T:function(e,t,a){return m(+e,t.length)}};function p(e,t=""){let a=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),n=r%60;return 0===n?a+String(i):a+String(i)+t+m(n,2)}function b(e,t){return e%60==0?(e>0?"-":"+")+m(Math.abs(e)/60,2):f(e,t)}function f(e,t=""){let a=Math.abs(e);return(e>0?"-":"+")+m(Math.trunc(a/60),2)+t+m(a%60,2)}let w=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},k=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},v={p:k,P:(e,t)=>{let a,r=e.match(/(P+)(p+)?/)||[],i=r[1],n=r[2];if(!n)return w(e,t);switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",w(i,t)).replace("{{time}}",k(n,t))}},y=/^D+$/,N=/^Y+$/,j=["D","DD","YY","YYYY"],z=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,D=/^'([^]*?)'?$/,S=/''/g,A=/[a-zA-Z]/;function E(e,r,i){let n=(0,a.getDefaultOptions)(),o=i?.locale??n.locale??t.defaultLocale,l=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=(0,s.toDate)(e,i?.in);if(!(d instanceof Date||"object"==typeof d&&"[object Date]"===Object.prototype.toString.call(d))&&"number"!=typeof d||isNaN(+(0,s.toDate)(d)))throw RangeError("Invalid time value");let u=r.match(C).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,v[t])(e,o.formatLong):e}).join("").match(z).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var a;let t;return{isToken:!1,value:(t=(a=e).match(D))?t[1].replace(S,"'"):a}}if(g[t])return{isToken:!0,value:e};if(t.match(A))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});o.localize.preprocessor&&(u=o.localize.preprocessor(d,u));let h={firstWeekContainsDate:l,weekStartsOn:c,locale:o};return u.map(t=>{if(!t.isToken)return t.value;let a=t.value;return(!i?.useAdditionalWeekYearTokens&&N.test(a)||!i?.useAdditionalDayOfYearTokens&&y.test(a))&&function(e,t,a){var r,i,n;let s,o=(r=e,i=t,n=a,s="Y"===r[0]?"years":"days of the month",`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${i}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(o),j.includes(e))throw RangeError(o)}(a,r,String(e)),(0,g[a[0]])(d,a,o.localize,h)}).join("")}e.s(["format",()=>E],1851)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},55900,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>t],55900)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},98919,52571,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>a],98919);let r=(0,t.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>r],52571)},16715,e=>{"use strict";let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},5387,e=>{"use strict";let t=e.i(59411).Root;e.s(["VisuallyHidden",()=>t])},21218,e=>{"use strict";let t=(0,e.i(75254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],21218)},30374,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(26999),i=e.i(37727),n=e.i(47163);let s=r.Root;r.Trigger;let o=r.Portal;r.Close;let l=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)(r.Overlay,{ref:i,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));l.displayName=r.Overlay.displayName;let c=a.forwardRef(({className:e,children:a,...s},c)=>(0,t.jsxs)(o,{children:[(0,t.jsx)(l,{}),(0,t.jsxs)(r.Content,{ref:c,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[a,(0,t.jsxs)(r.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(i.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));c.displayName=r.Content.displayName;let d=({className:e,...a})=>(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});d.displayName="DialogHeader";let u=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)(r.Title,{ref:i,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));u.displayName=r.Title.displayName;let h=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)(r.Description,{ref:i,className:(0,n.cn)("text-sm text-muted-foreground",e),...a}));h.displayName=r.Description.displayName,e.s(["Dialog",()=>s,"DialogContent",()=>c,"DialogDescription",()=>h,"DialogHeader",()=>d,"DialogTitle",()=>u])},27516,e=>{"use strict";let t=(0,e.i(75254).default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);e.s(["History",()=>t],27516)},40160,e=>{"use strict";let t=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],40160)},75558,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["ArrowUp",()=>t],75558)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},43432,e=>{"use strict";let t=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>t],43432)},68054,e=>{"use strict";let t=(0,e.i(75254).default)("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]);e.s(["Terminal",()=>t],68054)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},18724,e=>{"use strict";let t=(0,e.i(75254).default)("phone-call",[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["PhoneCall",()=>t],18724)},87951,e=>{"use strict";let t=(0,e.i(75254).default)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]);e.s(["Mic",()=>t],87951)},51898,e=>{"use strict";let t=(0,e.i(75254).default)("phone-incoming",[["path",{d:"M16 2v6h6",key:"1mfrl5"}],["path",{d:"m22 2-6 6",key:"6f0sa0"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["PhoneIncoming",()=>t],51898)},5257,e=>{"use strict";let t=(0,e.i(75254).default)("headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);e.s(["Headphones",()=>t],5257)},90919,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(30374),i=e.i(94179),n=e.i(67881),s=e.i(70065),o=e.i(37727),l=e.i(3116),c=e.i(87316),d=e.i(43432),u=e.i(78583),h=e.i(87951),m=e.i(5257),x=e.i(78894),g=e.i(31343),p=e.i(95242),b=e.i(40160),f=e.i(95468),w=e.i(73884),k=e.i(51898),v=e.i(18724),y=e.i(64659),N=e.i(55900),j=e.i(68054),z=e.i(58041),C=e.i(63209),D=e.i(47163),S=e.i(5387),A=e.i(1851),E=e.i(54858);let M={INTENT_YES:{color:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",Icon:f.CheckCircle2},INTERESTED:{color:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",Icon:f.CheckCircle2},NOT_INTERESTED:{color:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/20",Icon:C.AlertCircle},DNC:{color:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",Icon:w.XCircle},SCHEDULED:{color:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20",Icon:f.CheckCircle2},VOICEMAIL:{color:"bg-zinc-500/10 text-zinc-600 dark:text-zinc-400 border-zinc-500/20",Icon:k.PhoneIncoming},NO_ANSWER:{color:"bg-zinc-500/10 text-zinc-600 dark:text-zinc-400 border-zinc-500/20",Icon:k.PhoneIncoming},BUSY:{color:"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20",Icon:k.PhoneIncoming},FAILED:{color:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",Icon:w.XCircle},CONNECTED:{color:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20",Icon:v.PhoneCall},DISCONNECTED:{color:"bg-zinc-500/10 text-zinc-600 dark:text-zinc-400 border-zinc-500/20",Icon:l.Clock}},T=e=>{let t=Math.floor(e/60),a=e%60;return 0===t?`${a}s`:`${t}m ${a.toString().padStart(2,"0")}s`};e.s(["CampaignActivityModal",0,({call:e,isOpen:w,onClose:k,campaignId:v})=>{let C,_,I,[P,O]=(0,a.useState)(!1),L=a.default.useRef(null),[R,F]=(0,a.useState)(0),[B,H]=(0,a.useState)(0),[q,U]=(0,a.useState)(!1),[Y,G]=(0,a.useState)([]),[$,W]=(0,a.useState)(!1),[Q,V]=(0,a.useState)([]),[X,K]=(0,a.useState)(!1);a.default.useEffect(()=>{O(!1),F(0),H(e?.duration||0),U(!1),V([]),K(!1),w&&e&&J()},[e,w]);let J=async()=>{if(e)try{if(W(!0),e.user_queue_item_id)try{let t=await E.api.get(`/user-queue/${e.user_queue_item_id}/context`);if(t&&t.history&&t.history.length>0){let a=t.history.map((t,a)=>({id:t.id||`history-${a}`,type:"AI"===t.type?"agent_action":"thought",message:t.summary||t.notes||"No details available",timestamp:t.created_at,agent_name:"AI"===t.type?"AI Agent":"User",lead_id:e.lead_id,metadata:{status:t.status,duration:t.duration,recording_url:t.recording_url,full_transcript:t.full_transcript}}));G(a),V(t.history),K(!0),W(!1);return}}catch(e){console.warn("Failed to fetch user queue context, falling back to execution events:",e)}let t=v;if(!t){let e=window.location.pathname.split("/"),a=e.indexOf("campaigns");-1!==a&&e[a+1]&&"history"!==e[a+1]?t=e[a+1]:(t=e.pop(),"history"===t&&(t=e.pop()))}if(t&&"history"!==t&&e.lead_id){let a=`/execution/campaign/${t}/lead/${e.lead_id}/events`;e.bolna_call_id&&(a+=`?call_id=${e.bolna_call_id}`);let r=await E.api.get(a);G(r)}}catch(e){console.error("Failed to fetch lead events:",e)}finally{W(!1)}};if(!e)return null;let Z=(e.outcome||e.status||"FAILED").toUpperCase(),ee=(()=>{if(e.agreement_status?.status==="yes")return{label:"AGREED",color:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",Icon:f.CheckCircle2};let t=M[Z]||{color:"bg-zinc-500/10 text-zinc-600 dark:text-zinc-400 border-zinc-500/20",Icon:l.Clock};return{label:"AMBIGUOUS"===Z?"Unclear":Z.replace(/_/g," "),color:t.color,Icon:t.Icon}})();return(0,t.jsx)(r.Dialog,{open:w,onOpenChange:k,children:(0,t.jsxs)(r.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-hidden rounded-[40px] p-0 bg-white dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 shadow-2xl flex flex-col [&>button]:hidden",children:[(0,t.jsx)(S.VisuallyHidden,{children:(0,t.jsxs)(r.DialogDescription,{children:["Detailed call transcript, recording, and outcome intelligence for ",e.name,"."]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-start gap-6 mb-10 relative",children:[(0,t.jsx)("div",{className:"w-24 h-24 rounded-[32px] overflow-hidden border-4 border-white dark:border-zinc-800 shadow-xl shrink-0 bg-zinc-50 dark:bg-zinc-900",children:(0,t.jsx)("img",{src:`https://api.dicebear.com/7.x/notionists/svg?seed=${e.avatar_seed}`,alt:e.name,className:"w-full h-full object-contain scale-125 translate-y-2"})}),(0,t.jsxs)("div",{className:"flex-1 pt-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)(r.DialogTitle,{className:"text-4xl font-black text-zinc-900 dark:text-white tracking-tight leading-none",children:e.name}),(0,t.jsxs)(i.Badge,{className:(0,D.cn)("text-[10px] font-black uppercase px-3 py-1 rounded-full border shadow-sm flex items-center gap-1.5",ee.color),children:[(0,t.jsx)(ee.Icon,{className:"w-3.5 h-3.5"}),ee.label]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-y-2 gap-x-5 text-xs font-bold text-zinc-400 dark:text-zinc-500 uppercase tracking-widest mb-3",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(l.Clock,{className:"w-3.5 h-3.5"}),T(e.duration)]}),(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(c.Calendar,{className:"w-3.5 h-3.5"}),(0,A.format)(new Date(e.timestamp),"MMM d, h:mm a")]}),(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(d.Phone,{className:"w-3.5 h-3.5"}),e.phone_number]})]}),e.cohort&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(i.Badge,{variant:"outline",className:"bg-indigo-50 dark:bg-indigo-950/20 text-indigo-600 dark:text-indigo-400 border-indigo-100 dark:border-indigo-900 shadow-none py-1 h-auto text-[10px] font-black uppercase tracking-wider px-3 rounded-lg",children:e.cohort})})]}),(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:k,className:"absolute -top-4 -right-4 w-10 h-10 rounded-full bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all border border-transparent hover:border-zinc-200",children:(0,t.jsx)(o.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(s.Card,{className:"rounded-[32px] bg-zinc-50/50 dark:bg-zinc-900/30 p-8 border border-zinc-100/50 dark:border-zinc-800/50 relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-orange-500/5 to-transparent rounded-bl-full"}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"p-2 bg-orange-500/10 rounded-xl text-orange-500",children:(0,t.jsx)(u.FileText,{className:"w-4 h-4"})}),(0,t.jsx)("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400",children:"Outcome Intelligence"})]}),(0,t.jsx)("p",{className:"text-base text-zinc-700 dark:text-zinc-300 leading-relaxed font-medium",children:(C=["No transmission intel captured.","No specific insight generated.","Call completed."],_=e.summary&&!C.some(t=>e.summary?.includes(t)),I=e.key_insight&&!C.some(t=>e.key_insight?.includes(t)),_?e.summary:I?e.key_insight:e.critical_signal?.type==="DNC"?"Customer requested to be removed from all future contact. Expressed clear do-not-call preference.":e.critical_signal?.type==="WRONG_PERSON"?"Call reached a person other than the intended recipient. Contact records require update.":e.critical_signal?.type==="LANGUAGE_BARRIER"?"A significant language barrier prevented effective communication. Support in local language may be required.":"INTENT_YES"===Z||"INTERESTED"===Z?"Customer expressed positive interest. Wants to learn more.":"NOT_INTERESTED"===Z?"Customer politely declined the offer. Expressed clear disinterest.":"SCHEDULED"===Z?"Follow-up requested. Interested but busy now.":"VOICEMAIL"===Z?"Reached voicemail system. Message left successfully.":"NO_ANSWER"===Z?"Call was not answered. No contact established.":"BUSY"===Z?"Line was busy. Re-queueing for later attempt.":"FAILED"===Z?"Call failed to connect due to network or carrier issues.":e.duration<10?"Short duration call. Likely disconnected immediately or hung up.":e.duration<30?"Brief connection. Call ended before meaningful conversation could develop.":e.duration>120?"Extended conversation held. Connected for over 2 minutes without specific outcome classification.":"Call flow executed. Outcome status captured without additional qualitative intelligence.")}),e.critical_signal&&(0,t.jsxs)("div",{className:(0,D.cn)("mt-6 p-5 rounded-2xl border flex items-start gap-4","critical"===e.critical_signal.severity?"bg-red-50/50 dark:bg-red-500/5 border-red-100 dark:border-red-500/10":"bg-amber-50/50 dark:bg-amber-500/5 border-amber-100 dark:border-amber-500/10"),children:[(0,t.jsx)("div",{className:(0,D.cn)("w-10 h-10 rounded-xl flex items-center justify-center shrink-0","critical"===e.critical_signal.severity?"bg-red-500/10":"bg-amber-500/10"),children:(0,t.jsx)(x.AlertTriangle,{className:(0,D.cn)("w-5 h-5","critical"===e.critical_signal.severity?"text-red-600":"text-amber-600")})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:(0,D.cn)("text-sm font-black uppercase tracking-wider mb-1","critical"===e.critical_signal.severity?"text-red-700 dark:text-red-400":"text-amber-700 dark:text-amber-400"),children:e.critical_signal.label}),(0,t.jsx)("p",{className:(0,D.cn)("text-xs font-bold","critical"===e.critical_signal.severity?"text-red-600/80":"text-amber-600/80"),children:"DNC"===e.critical_signal.type?"Request removal from outreach queue.":"Attention required for this lead profile."})]})]})]})]}),(0,t.jsxs)(s.Card,{className:"rounded-[32px] bg-white dark:bg-zinc-950 p-8 border border-zinc-100 dark:border-zinc-800 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-orange-500/10 rounded-xl text-orange-500",children:(0,t.jsx)(m.Headphones,{className:"w-4 h-4"})}),(0,t.jsx)("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400",children:"Acoustics Archive"})]}),e.recording_url&&(0,t.jsx)(n.Button,{variant:"ghost",size:"sm",className:"h-8 rounded-full text-[10px] font-black uppercase tracking-widest gap-2",asChild:!0,children:(0,t.jsxs)("a",{href:e.recording_url,target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)(b.Download,{className:"w-3.5 h-3.5"}),"Download"]})})]}),e.recording_url?(0,t.jsxs)("div",{className:"flex items-center gap-6 p-4 bg-zinc-50/50 dark:bg-zinc-900/30 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[(0,t.jsx)("audio",{ref:L,src:e.recording_url,onTimeUpdate:()=>{L.current&&F(L.current.currentTime)},onLoadedMetadata:()=>{L.current&&H(L.current.duration)},onEnded:()=>{O(!1),F(0)},className:"hidden"}),(0,t.jsx)(n.Button,{size:"icon",className:"w-14 h-14 rounded-2xl bg-orange-600 hover:bg-orange-700 text-white shadow-lg shadow-orange-500/30 transition-all active:scale-95",onClick:()=>{L.current&&(P?L.current.pause():L.current.play(),O(!P))},children:P?(0,t.jsx)(p.Pause,{className:"w-7 h-7"}):(0,t.jsx)(g.Play,{className:"w-7 h-7 translate-x-0.5"})}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("div",{className:"h-2 w-full bg-zinc-200 dark:bg-zinc-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-orange-500 rounded-full shadow-[0_0_12px_rgba(99,102,241,0.5)] transition-all duration-100",style:{width:`${R/(B||1)*100}%`}})}),(0,t.jsxs)("div",{className:"flex justify-between text-[10px] font-black text-zinc-400 tabular-nums uppercase",children:[(0,t.jsx)("span",{children:T(R)}),(0,t.jsx)("span",{children:T(B||e.duration)})]})]})]}):(0,t.jsx)("div",{className:"py-8 text-center text-zinc-400 italic text-sm font-medium bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl border border-dashed border-zinc-200",children:"Recording currently being synchronized..."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-2",children:[(0,t.jsx)("div",{className:"p-2 bg-zinc-900 rounded-xl text-emerald-500",children:(0,t.jsx)(j.Terminal,{className:"w-4 h-4"})}),(0,t.jsx)("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400",children:"Mission Control Feed"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-8 px-2",children:[(0,t.jsxs)("div",{className:"shrink-0 flex flex-col items-center gap-3 sticky top-4",children:[(0,t.jsxs)("div",{className:"w-24 h-24 rounded-[32px] overflow-hidden border-4 border-indigo-500/20 bg-indigo-50/50 dark:bg-indigo-950/20 shadow-2xl relative group/avatar",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-indigo-500/10 group-hover/avatar:bg-indigo-500/20 transition-colors"}),(0,t.jsx)("img",{src:`https://api.dicebear.com/7.x/notionists/svg?seed=${Y[0]?.agent_name||"Priya"}&backgroundColor=e0e7ff`,alt:"Agent",className:"w-full h-full object-contain scale-110 translate-y-2 relative z-10"}),(0,t.jsx)("div",{className:"absolute bottom-0 inset-x-0 h-1/3 bg-gradient-to-t from-indigo-500/20 to-transparent z-20"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-[11px] font-black text-indigo-500 uppercase tracking-widest leading-none mb-1",children:Y[0]?.agent_name||"Priya"}),(0,t.jsx)("p",{className:"text-[8px] font-bold text-zinc-400 uppercase tracking-tighter",children:"Screening Rep"})]})]}),(0,t.jsxs)("div",{className:"flex-1 relative group/card",children:[(0,t.jsx)("div",{className:"absolute -left-2 top-8 w-4 h-4 bg-white dark:bg-zinc-900 border-l border-b border-zinc-200 dark:border-zinc-800 rotate-45 z-0"}),(0,t.jsxs)(s.Card,{className:"rounded-[40px] bg-white dark:bg-zinc-950 p-8 border border-zinc-200 dark:border-zinc-800 shadow-2xl relative z-10 overflow-hidden min-h-[400px]",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-bl from-indigo-500/5 to-transparent rounded-bl-full pointer-events-none"}),(0,t.jsx)("div",{className:"space-y-6 max-h-[500px] overflow-y-auto pr-4 custom-scrollbar flex flex-col relative z-20",children:Y.length>0?Y.map((e,a)=>(0,t.jsxs)("div",{className:"group/item",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:(0,D.cn)("w-1.5 h-1.5 rounded-full","thought"===e.type?"bg-amber-500":"agent_action"===e.type?"bg-indigo-500":"bg-zinc-400")}),(0,t.jsx)("span",{className:(0,D.cn)("text-[9px] font-black uppercase tracking-[0.1em]","thought"===e.type?"text-amber-600/70":"agent_action"===e.type?"text-indigo-600/70":"text-zinc-500"),children:e.type.replace("_"," ")})]}),(0,t.jsx)("span",{className:"text-[9px] font-mono text-zinc-400 tabular-nums",children:new Date(e.timestamp).toLocaleTimeString([],{hour12:!0,hour:"numeric",minute:"2-digit"})})]}),(0,t.jsx)("div",{className:(0,D.cn)("px-5 py-3 rounded-2xl rounded-tl-sm transition-all duration-300","thought"===e.type?"bg-amber-500/[0.03] border border-amber-500/10 text-zinc-600 dark:text-zinc-400 italic":"agent_action"===e.type?"bg-indigo-500/[0.03] border border-indigo-500/10 text-zinc-900 dark:text-zinc-100":"bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 text-zinc-500 dark:text-zinc-400"),children:(0,t.jsx)("p",{className:"text-[13px] leading-relaxed font-medium",children:e.message})})]},e.id)):(0,t.jsxs)("div",{className:"py-24 text-center",children:[(0,t.jsx)(z.Database,{className:"w-12 h-12 text-zinc-200 dark:text-zinc-800 mx-auto mb-4 animate-pulse"}),(0,t.jsx)("p",{className:"text-sm font-bold text-zinc-300 dark:text-zinc-700 uppercase tracking-widest",children:$?"Fetching complete history...":X?"No interactions recorded":"No live events captured"}),!$&&!X&&(0,t.jsx)("p",{className:"text-xs text-zinc-400 dark:text-zinc-600 mt-2 max-w-xs mx-auto",children:"This lead may have been processed before the mission control feed was enabled."})]})}),(0,t.jsxs)("div",{className:"mt-8 pt-4 border-t border-zinc-100 dark:border-zinc-900 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),(0,t.jsx)("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:"Live Briefing Unit"})]}),(0,t.jsx)(i.Badge,{variant:"outline",className:"text-[8px] border-zinc-200 dark:border-zinc-800 text-zinc-400 h-5 px-2",children:"Secure Channel"})]})]})]})]})]}),e.transcript&&e.transcript.length>0&&(0,t.jsxs)(s.Card,{className:"rounded-[32px] bg-white dark:bg-zinc-950 border border-zinc-100 dark:border-zinc-800 shadow-sm overflow-hidden",children:[(0,t.jsxs)("button",{onClick:()=>U(!q),className:"w-full flex items-center justify-between p-8 hover:bg-zinc-50 dark:hover:bg-zinc-900/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-emerald-500/10 rounded-xl text-emerald-500",children:(0,t.jsx)(h.Mic,{className:"w-4 h-4"})}),(0,t.jsx)("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400",children:"Neuro-Conversation Archive"})]}),q?(0,t.jsx)(N.ChevronUp,{className:"w-4 h-4 text-zinc-400"}):(0,t.jsx)(y.ChevronDown,{className:"w-4 h-4 text-zinc-400"})]}),q&&(0,t.jsx)("div",{className:"px-8 pb-8 space-y-4 animate-in fade-in slide-in-from-top-2 duration-300",children:e.transcript.map((e,a)=>(0,t.jsx)("div",{className:(0,D.cn)("flex flex-col","agent"===e.role||"assistant"===e.role?"items-start":"items-end"),children:(0,t.jsx)("div",{className:(0,D.cn)("max-w-[85%] px-5 py-3 rounded-3xl text-[13px] font-medium leading-relaxed shadow-sm","agent"===e.role||"assistant"===e.role?"bg-indigo-600 text-white rounded-tl-sm":"bg-zinc-100 dark:bg-zinc-800 text-zinc-800 dark:text-zinc-200 rounded-tr-sm border border-zinc-200/50 dark:border-zinc-700/50"),children:e.content})},a))})]}),(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsx)(n.Button,{onClick:k,className:"w-full h-14 rounded-[24px] bg-zinc-900 border border-zinc-800 hover:bg-zinc-800 text-white font-black text-xs uppercase tracking-[0.2em] shadow-xl gap-3",children:"Close Activity Log"})})]})]})})]})})}])},41779,e=>{"use strict";var t=e.i(47167),a=e.i(43476),r=e.i(71645),i=e.i(18566),n=e.i(46932),s=e.i(88653),o=e.i(71689),l=e.i(31278),c=e.i(88699),d=e.i(27612),u=e.i(87316),h=e.i(3116),m=e.i(20278),x=e.i(63727),g=e.i(84614),p=e.i(23385),b=e.i(52008),f=e.i(86311),w=e.i(30699),k=e.i(43531),v=e.i(51737),y=e.i(95242),N=e.i(31343),j=e.i(78894),z=e.i(67881),C=e.i(94179),D=e.i(30009),S=e.i(47163),A=e.i(54858),E=e.i(46696),M=e.i(1851),T=e.i(94913),_=e.i(28231),I=e.i(91243),P=e.i(18075),O=e.i(8887),L=e.i(28082),R=e.i(40056),F=e.i(38938),B=e.i(40465);function H(){let e=(0,i.useParams)(),H=(0,i.useRouter)(),q=e?.id,{loading:U,companyId:Y}=(0,F.useAuth)(),[G,$]=(0,r.useState)(null),[W,Q]=(0,r.useState)(!0),[V,X]=(0,r.useState)(!1),[K,J]=(0,r.useState)(!1),[Z,ee]=(0,r.useState)(0),[et,ea]=(0,r.useState)(!1),[er,ei]=(0,r.useState)(!1),[en,es]=(0,r.useState)(!1),[eo,el]=(0,r.useState)(!1),[ec,ed]=(0,r.useState)("IDENTITY"),[eu,eh]=(0,r.useState)(!1),[em,ex]=(0,r.useState)(!1),[eg,ep]=(0,r.useState)(!1),{campaign:eb,isConnected:ef}=(0,B.useCampaignData)(q),ew=(0,r.useRef)(0),ek=async()=>{if(!U){if(!Y||!q)return void Q(!1);try{G||Q(!0);let e=Date.now(),t=await A.api.get(`/intelligence/campaigns/${q}`);if(e<ew.current)return void console.log("Ignoring stale campaign data from poll");$(e=>JSON.stringify(e)===JSON.stringify(t)?e:t)}catch(e){console.error("Failed to fetch campaign:",e),404===e.status?(E.toast.error("Campaign not found"),H.push("/dashboard-new/customer-intelligence")):G||E.toast.error(e.message||"Failed to load campaign")}finally{Q(!1)}}};(0,r.useEffect)(()=>{!U&&Y&&q&&!G&&ek()},[q,U,Y]),(0,r.useEffect)(()=>{eb&&($(e=>{let t={...e,...eb,id:q,status:e?.status||eb.status||"DRAFT"};return JSON.stringify(e)===JSON.stringify(t)?e:t}),ew.current=Date.now())},[eb,q]),(0,r.useEffect)(()=>{let e=()=>{(G?.status==="ACTIVE"||G?.status==="IN_PROGRESS")&&fetch(`${t.default.env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api/v1"}/execution/campaign/${q}/pause`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},keepalive:!0}).catch(e=>console.error("Auto-pause failed",e))};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[q,G?.status]);let ev=()=>{G?.status==="IN_PROGRESS"||G?.status==="WARMUP"?ei(!0):H.push("/dashboard-new/customer-intelligence")},ey=async()=>{el(!0);try{await A.api.patch(`/intelligence/campaigns/${q}`,{status:"PAUSED"}),E.toast.success("Campaign paused successfully"),ew.current=Date.now(),setTimeout(()=>{H.push("/dashboard-new/customer-intelligence")},500)}catch(e){console.error("Failed to pause campaign:",e),E.toast.error(e.message||"Failed to pause campaign"),el(!1),ei(!1)}},eN=async()=>{es(!0);try{await A.api.delete(`/intelligence/campaigns/${q}`),E.toast.success("Campaign deleted successfully"),ea(!1),setTimeout(()=>{H.push("/dashboard-new/customer-intelligence")},500)}catch(e){throw console.error("Failed to delete campaign:",e),E.toast.error(e.message||"Failed to delete campaign"),es(!1),e}};if(U||W)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-zinc-50 to-white dark:from-zinc-950 dark:to-black",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)(l.Loader2,{className:"w-8 h-8 animate-spin text-orange-500"}),(0,a.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 font-medium",children:U?"Authenticating...":"Loading campaign..."})]})});if(!G)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-zinc-50 to-white dark:from-zinc-950 dark:to-black",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Campaign not found"}),(0,a.jsx)(z.Button,{onClick:ev,className:"mt-4",children:"Return to Intelligence Lab"})]})});let{name:ej,created_at:ez,updated_at:eC,status:eD,brand_context:eS,customer_context:eA,team_member_context:eE,cohort_config:eM={},selected_cohorts:eT=[],cohort_data:e_={},cohort_questions:eI={},cohort_incentives:eP={},preliminary_questions:eO=[],incentive:eL,execution_windows:eR=[],call_duration:eF,total_call_target:eB}=G,eH="COMPLETED"===eD,eq=Object.values(eM).reduce((e,t)=>e+t,0)||eB||0,eU=eT?.length||Object.keys(eM).length||0,eY=eF?Math.floor(eF/60):10,eG=eR?.length||0,e$={COMPLETED:{label:"Completed",color:"text-emerald-600",bg:"bg-emerald-500/10",border:"border-emerald-500/20",icon:k.Check},IN_PROGRESS:{label:"Active",color:"text-blue-600",bg:"bg-blue-500/10",border:"border-blue-500/20",icon:h.Clock},ACTIVE:{label:"Active",color:"text-blue-600",bg:"bg-blue-500/10",border:"border-blue-500/20",icon:h.Clock},FAILED:{label:"Attention",color:"text-red-600",bg:"bg-red-500/10",border:"border-red-500/20",icon:v.ShieldAlert},DRAFT:{label:"Draft",color:"text-zinc-500",bg:"bg-zinc-500/10",border:"border-zinc-500/20",icon:c.Pencil},SCHEDULED:{label:"Scheduled",color:"text-orange-600",bg:"bg-orange-500/10",border:"border-orange-500/20",icon:u.Calendar},PAUSED:{label:"Paused",color:"text-amber-600",bg:"bg-amber-500/10",border:"border-amber-500/20",icon:y.Pause},READY:{label:"Ready",color:"text-emerald-600",bg:"bg-emerald-500/10",border:"border-emerald-500/20",icon:N.Play}},eW=e$[eD]||e$.DRAFT,eQ=eW.icon,eV=eT.length>0?eT:Object.keys(eM),eX=(0,R.getUniqueCohortAvatars)(eV);return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-zinc-50 to-white dark:from-zinc-950 dark:to-black",children:[(0,a.jsxs)("div",{className:(0,S.cn)("max-w-7xl mx-auto p-6 md:p-8 transition-all duration-500",eH&&"py-4 md:py-6"),children:[(0,a.jsxs)(n.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:(0,S.cn)("mb-8",eH&&"mb-4"),children:[(0,a.jsxs)(z.Button,{variant:"ghost",onClick:ev,className:(0,S.cn)("mb-6 text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 -ml-2",eH&&"mb-2 transform scale-90 origin-left"),children:[(0,a.jsx)(o.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Intelligence Lab"]}),(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:(0,S.cn)("flex items-center gap-3 mb-4",eH&&"mb-2"),children:[(0,a.jsxs)("div",{className:(0,S.cn)("flex items-center gap-2 pl-1 pr-3 py-1 rounded-full transition-all duration-300 border backdrop-blur-md",eW.bg,eW.border),children:[(0,a.jsx)("div",{className:(0,S.cn)("p-1.5 rounded-full bg-white dark:bg-black/20",eW.color),children:(0,a.jsx)(eQ,{className:"w-3.5 h-3.5",strokeWidth:3})}),(0,a.jsx)("span",{className:(0,S.cn)("text-[11px] font-black uppercase tracking-[0.15em] pr-1",eW.color),children:eW.label})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(_.TooltipProvider,{children:(0,a.jsxs)(_.Tooltip,{children:[(0,a.jsx)(_.TooltipTrigger,{asChild:!0,children:(0,a.jsxs)("span",{className:"text-xs font-bold text-zinc-400 dark:text-zinc-500 flex items-center gap-1.5 bg-zinc-50 dark:bg-zinc-900 px-3 py-1.5 rounded-full cursor-help hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:[(0,a.jsx)(u.Calendar,{className:"w-3.5 h-3.5 text-zinc-300 dark:text-zinc-600"}),ez?(0,T.formatDistanceToNow)(new Date(ez),{addSuffix:!0}):"New"]})}),(0,a.jsx)(_.TooltipContent,{children:(0,a.jsxs)("p",{children:["Created: ",ez?(0,M.format)(new Date(ez),"MMM do, yyyy 'at' h:mm a"):"N/A"]})})]})}),eC&&eC!==ez&&(0,a.jsx)(_.TooltipProvider,{children:(0,a.jsxs)(_.Tooltip,{children:[(0,a.jsx)(_.TooltipTrigger,{asChild:!0,children:(0,a.jsxs)("span",{className:"text-xs font-bold text-zinc-400 dark:text-zinc-500 flex items-center gap-1.5 bg-zinc-50 dark:bg-zinc-900 px-3 py-1.5 rounded-full cursor-help hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:[(0,a.jsx)(h.Clock,{className:"w-3.5 h-3.5 text-zinc-300 dark:text-zinc-600"}),"Updated ",(0,T.formatDistanceToNow)(new Date(eC),{addSuffix:!0})]})}),(0,a.jsx)(_.TooltipContent,{children:(0,a.jsxs)("p",{children:["Last Updated: ",(0,M.format)(new Date(eC),"MMM do, yyyy 'at' h:mm a")]})})]})})]})]}),(0,a.jsx)("h1",{className:(0,S.cn)("text-5xl md:text-6xl font-black text-zinc-900 dark:text-zinc-50 leading-[1.05] tracking-[-0.04em] mb-6 bg-clip-text text-transparent bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-500 dark:from-white dark:via-zinc-100 dark:to-zinc-400 transition-all duration-500",eH&&"text-3xl md:text-4xl mb-2"),children:ej})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[["PAUSED","DRAFT","READY","SCHEDULED"].includes(eD)&&(0,a.jsxs)(z.Button,{onClick:()=>{ed("IDENTITY"),X(!0)},className:"bg-white dark:bg-zinc-800 text-zinc-900 dark:text-white border border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-700 shadow-sm font-semibold rounded-xl",children:[(0,a.jsx)(c.Pencil,{className:"w-4 h-4 mr-2"}),"Edit Campaign"]}),(0,a.jsxs)(z.Button,{variant:"ghost",onClick:()=>{ea(!0)},className:"rounded-xl h-11 text-red-500 hover:bg-red-50 hover:text-red-700 dark:hover:bg-red-500/10",children:[(0,a.jsx)(d.Trash2,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),(0,a.jsx)(s.AnimatePresence,{children:(0,a.jsx)(n.motion.div,{initial:!!eH&&{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.5,ease:"easeInOut"},className:"overflow-hidden",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 bg-white/50 dark:bg-zinc-900/30 p-6 rounded-[24px] border border-zinc-100/50 dark:border-zinc-800/30 group/metric transition-all duration-300 hover:bg-white hover:shadow-lg hover:shadow-orange-500/5 hover:border-orange-100",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-white dark:bg-zinc-800 flex items-center justify-center shadow-sm text-zinc-400 group-hover/metric:text-orange-500 transition-colors",children:(0,a.jsx)(m.Target,{className:"w-6 h-6",strokeWidth:1.5})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-black text-zinc-900 dark:text-white tracking-tight leading-none mb-1",children:eq}),(0,a.jsx)("div",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-wider",children:"Total Targets"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 bg-white/50 dark:bg-zinc-900/30 p-6 rounded-[24px] border border-zinc-100/50 dark:border-zinc-800/30 group/metric transition-all duration-300 hover:bg-white hover:shadow-lg hover:shadow-orange-500/5 hover:border-orange-100",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-white dark:bg-zinc-800 flex items-center justify-center shadow-sm text-zinc-400 group-hover/metric:text-orange-500 transition-colors",children:(0,a.jsx)(h.Clock,{className:"w-6 h-6",strokeWidth:1.5})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-black text-zinc-900 dark:text-white tracking-tight leading-none mb-1",children:[eY,"m"]}),(0,a.jsx)("div",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-wider",children:"Calls"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 bg-white/50 dark:bg-zinc-900/30 p-6 rounded-[24px] border border-zinc-100/50 dark:border-zinc-800/30 group/metric transition-all duration-300 hover:bg-white hover:shadow-lg hover:shadow-emerald-500/5 hover:border-emerald-100",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-white dark:bg-zinc-800 flex items-center justify-center shadow-sm text-zinc-400 group-hover/metric:text-emerald-500 transition-colors",children:(0,a.jsx)(u.Calendar,{className:"w-6 h-6",strokeWidth:1.5})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-black text-zinc-900 dark:text-white tracking-tight leading-none mb-1",children:[eG," Slots"]}),(0,a.jsx)("div",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-wider",children:"Schedule"})]})]})]})})}),(0,a.jsx)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.05},className:(0,S.cn)("mb-8",eH&&"mb-4"),children:(0,a.jsx)(L.ExecutionPanel,{campaignId:q,campaignStatus:eD,hasStrategy:!!(eT?.length>0||e_&&Object.keys(e_).length>0),wasLeadsUpdated:em,onStatusChange:async e=>{G.status!==e&&($({...G,status:e}),ew.current=Date.now())},onEditStrategy:()=>{ed("STRATEGY"),X(!0),ee(e=>e+1)},onScheduleUpdate:e=>{$(t=>({...t,execution_windows:e}))}})}),(0,a.jsx)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-12",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Brand Identity",icon:x.Briefcase,text:eS,color:"text-orange-600",bg:"bg-orange-50/50",border:"border-orange-100/50",darkBg:"dark:bg-orange-500/10",darkBorder:"dark:border-orange-500/20"},{title:"Target Audience",icon:g.User,text:eA,color:"text-orange-600",bg:"bg-orange-50/50",border:"border-orange-100/50",darkBg:"dark:bg-orange-500/10",darkBorder:"dark:border-orange-500/20"},{title:"Purpose",icon:p.BrainCircuit,text:eE,color:"text-emerald-600",bg:"bg-emerald-50/50",border:"border-emerald-100/50",darkBg:"dark:bg-emerald-500/10",darkBorder:"dark:border-emerald-500/20"}].map((e,t)=>(0,a.jsxs)(n.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3+.1*t,duration:.7},className:"group/card relative p-8 rounded-[32px] bg-white/50 dark:bg-zinc-900/30 border border-zinc-200/50 dark:border-zinc-800/50 hover:bg-white dark:hover:bg-zinc-900/50 hover:shadow-[0_24px_48px_-12px_rgba(0,0,0,0.08)] dark:hover:shadow-black/40 hover:-translate-y-2 transition-all duration-500 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 via-white/0 to-white/30 dark:to-white/5 opacity-0 group-hover/card:opacity-100 transition-opacity duration-500 pointer-events-none"}),(0,a.jsxs)("div",{className:"flex items-center gap-5 mb-6",children:[(0,a.jsx)("div",{className:(0,S.cn)("p-4 rounded-2xl shadow-[0_8px_16px_-4px_rgba(0,0,0,0.1)] transition-transform duration-500 group-hover/card:scale-110",e.bg,e.color,e.darkBg),children:(0,a.jsx)(e.icon,{className:"w-6 h-6"})}),(0,a.jsx)("span",{className:"text-[11px] font-black uppercase tracking-[0.25em] text-zinc-400 dark:text-zinc-500",children:e.title})]}),(0,a.jsx)("p",{className:"text-lg text-zinc-600 dark:text-zinc-300 leading-relaxed font-semibold",children:e.text||"Strategic context not defined."})]},t))})}),(0,a.jsxs)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-12",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 mb-10",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("h4",{className:"text-xs font-black text-zinc-900 dark:text-zinc-100 uppercase tracking-[0.3em] flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-2 bg-orange-600 rounded-xl text-white shadow-lg shadow-orange-500/30",children:(0,a.jsx)(b.Layers,{className:"w-4 h-4"})}),"Campaign Strategy Map"]}),(0,a.jsx)("p",{className:"text-sm text-zinc-400 font-medium pl-12",children:"Segmented execution plan and individual goals"})]}),(0,a.jsxs)(C.Badge,{className:"bg-zinc-900 text-white dark:bg-white dark:text-zinc-900 px-5 py-2 text-xs font-bold rounded-full",children:[eU," ACTIVE SEGMENTS"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:eV.map((e,t)=>{let r=eM[e]||0,i=eI[e]||eO,s=eP[e]||eL,o=eX[e]||1;return(0,a.jsxs)(n.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5+.1*t,duration:.6},className:"flex flex-col bg-white dark:bg-zinc-950/40 border border-zinc-200 dark:border-zinc-800/60 rounded-[32px] p-8 hover:border-orange-500/50 dark:hover:border-orange-400/50 hover:shadow-2xl transition-all duration-500 group/cohort relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-orange-500/5 to-transparent rounded-bl-full pointer-events-none"}),(0,a.jsxs)("div",{className:"flex items-center gap-5 mb-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-[20px] overflow-hidden border-2 border-white dark:border-zinc-800 shadow-xl group-hover/cohort:scale-105 transition-transform duration-500 bg-transparent",children:(0,a.jsx)("img",{src:`/images/avatars/notionists/full_body/avatar_${o}.png`,alt:e,className:"w-full h-full object-contain scale-110 drop-shadow-md"})}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h5",{className:"font-black text-xl text-zinc-900 dark:text-zinc-50 tracking-tight",children:e}),(0,a.jsxs)(C.Badge,{variant:"secondary",className:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 px-3 py-0.5 text-[10px] font-bold tracking-wider",children:[(0,a.jsx)(m.Target,{className:"w-3 h-3 mr-1.5"})," ",r," TARGET CALLS"]})]})]}),(0,a.jsxs)("div",{className:"space-y-6 flex-1",children:[s&&(0,a.jsxs)("div",{className:"flex items-center gap-4 bg-emerald-500/[0.04] dark:bg-emerald-500/[0.08] p-4 rounded-2xl border border-emerald-500/10 dark:border-emerald-500/20",children:[(0,a.jsx)(w.Gift,{className:"w-5 h-5 text-emerald-600 shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-bold text-emerald-700 dark:text-emerald-400 tracking-tight",children:s})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-black text-zinc-400 uppercase tracking-[0.2em] pl-1",children:[(0,a.jsx)(f.MessageSquare,{className:"w-3.5 h-3.5"})," Preliminary Questions"]}),(0,a.jsxs)("ul",{className:"space-y-3",children:[i.slice(0,3).map((e,t)=>(0,a.jsx)("li",{className:"text-sm text-zinc-600 dark:text-zinc-400 pl-4 border-l-2 border-zinc-100 dark:border-zinc-800 font-medium group-hover/cohort:border-orange-500/30 transition-colors",children:e},t)),i.length>3&&(0,a.jsxs)("li",{className:"text-xs text-orange-500 font-bold pl-4 pt-1 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1 h-1 bg-orange-500 rounded-full"}),"+",i.length-3," more strategic questions"]})]})]})]})]},e)})})]})]}),(0,a.jsx)(s.AnimatePresence,{children:V&&(0,a.jsx)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:()=>{em?ep(!0):X(!1)},children:(0,a.jsx)(n.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.3},className:"w-full max-w-5xl mx-auto max-h-[95vh] flex flex-col",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(P.CampaignComposer,{campaignId:q,initialStep:ec,onComplete:()=>{X(!1),ex(!1),ek(),E.toast.success("Campaign updated successfully")},onBack:()=>{em?ep(!0):X(!1)},onEditLeads:()=>J(!0),onError:e=>{console.error("Campaign update error:",e),E.toast.error(e?.message||"Failed to update campaign")},isMagicUI:O.FEATURE_FLAGS.IS_MAGIC_AI_ENABLED},Z)})})}),(0,a.jsx)(s.AnimatePresence,{children:K&&(0,a.jsx)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:()=>{eu?ep(!0):J(!1)},children:(0,a.jsx)(n.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.3},className:"w-full max-w-5xl mx-auto max-h-[95vh] flex flex-col",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(I.CsvUploadCard,{mode:"edit",campaignId:q,isMagicUI:O.FEATURE_FLAGS.IS_MAGIC_AI_ENABLED,onSuccess:()=>{J(!1),eh(!1),ex(!0),ee(e=>e+1),ek(),E.toast.success("Leads updated successfully")},onCancel:()=>{eu?ep(!0):J(!1)},onLeadsUpdated:async()=>{$(e=>({...e,status:"DRAFT",selected_cohorts:[],cohort_data:{},cohort_config:{},cohort_questions:{},cohort_incentives:{}}));try{await A.api.patch(`/intelligence/campaigns/${q}`,{status:"DRAFT"}),ew.current=Date.now(),E.toast.info("Campaign status changed to DRAFT. Please complete the cohort strategy mapping to activate.",{duration:5e3})}catch(e){console.error("Failed to update campaign status:",e),E.toast.error("Failed to update campaign status. Please refresh and try again.")}ee(e=>e+1),ek()},onDirtyChange:e=>eh(e),className:"flex-1 min-h-0"})})})}),(0,a.jsx)(D.AlertDialog,{open:et,onOpenChange:ea,children:(0,a.jsxs)(D.AlertDialogContent,{className:"rounded-[2rem] border-zinc-200 dark:border-zinc-800 bg-white/95 dark:bg-zinc-950/95 backdrop-blur-xl",children:[(0,a.jsxs)(D.AlertDialogHeader,{children:[(0,a.jsxs)(D.AlertDialogTitle,{className:"text-2xl font-bold text-zinc-900 dark:text-white flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-xl text-red-600 dark:text-red-400",children:(0,a.jsx)(d.Trash2,{className:"w-5 h-5"})}),"Delete Campaign"]}),(0,a.jsxs)(D.AlertDialogDescription,{className:"text-zinc-500 dark:text-zinc-400 text-base py-2",children:["Are you sure you want to delete ",(0,a.jsxs)("span",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:['"',ej,'"']}),"? This will permanently remove the campaign and archive all related leads. This action cannot be undone."]})]}),(0,a.jsxs)(D.AlertDialogFooter,{className:"gap-3 sm:gap-0",children:[(0,a.jsx)(D.AlertDialogCancel,{className:"rounded-2xl border-zinc-200 dark:border-zinc-800 text-zinc-600 dark:text-zinc-400 font-bold hover:bg-zinc-50 dark:hover:bg-zinc-900 h-12 px-6",children:"Cancel"}),(0,a.jsx)(D.AlertDialogAction,{onClick:e=>{e.preventDefault(),eN()},className:"rounded-2xl bg-red-600 hover:bg-red-700 text-white font-bold h-12 px-8 shadow-lg shadow-red-500/20 border-none transition-all hover:scale-[1.02] active:scale-[0.98]",disabled:en,children:en?"Deleting...":"Delete Campaign"})]})]})}),(0,a.jsx)(D.AlertDialog,{open:er,onOpenChange:ei,children:(0,a.jsxs)(D.AlertDialogContent,{className:"rounded-[2rem] border-zinc-200 dark:border-zinc-800 bg-white/95 dark:bg-zinc-950/95 backdrop-blur-xl",children:[(0,a.jsxs)(D.AlertDialogHeader,{children:[(0,a.jsxs)(D.AlertDialogTitle,{className:"text-2xl font-bold text-zinc-900 dark:text-white flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-xl text-amber-600 dark:text-amber-400",children:(0,a.jsx)(y.Pause,{className:"w-5 h-5"})}),"Pause Session?"]}),(0,a.jsxs)(D.AlertDialogDescription,{className:"text-zinc-500 dark:text-zinc-400 text-base py-2",children:["This campaign is currently active. Do you want to pause it before leaving? ",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"font-semibold text-zinc-700 dark:text-zinc-300",children:"Agents will complete their current calls and then stop dialing."})]})]}),(0,a.jsxs)(D.AlertDialogFooter,{className:"gap-3 sm:gap-0",children:[(0,a.jsx)(D.AlertDialogCancel,{className:"rounded-2xl border-zinc-200 dark:border-zinc-800 text-zinc-600 dark:text-zinc-400 font-bold hover:bg-zinc-50 dark:hover:bg-zinc-900 h-12 px-6",children:"Cancel"}),(0,a.jsx)(z.Button,{variant:"ghost",onClick:()=>H.push("/dashboard-new/customer-intelligence"),className:"rounded-2xl text-zinc-500 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100 font-semibold h-12 px-6",children:"Exit Without Pausing"}),(0,a.jsx)(D.AlertDialogAction,{onClick:e=>{e.preventDefault(),ey()},className:"rounded-2xl bg-amber-500 hover:bg-amber-600 text-white font-bold h-12 px-8 shadow-lg shadow-amber-500/20 border-none transition-all hover:scale-[1.02] active:scale-[0.98]",disabled:eo,children:eo?"Pausing...":"Pause & Exit"})]})]})}),(0,a.jsx)(D.AlertDialog,{open:eg,onOpenChange:ep,children:(0,a.jsxs)(D.AlertDialogContent,{className:"rounded-[2rem] border-zinc-200 dark:border-zinc-800 bg-white/95 dark:bg-zinc-950/95 backdrop-blur-xl",children:[(0,a.jsxs)(D.AlertDialogHeader,{children:[(0,a.jsxs)(D.AlertDialogTitle,{className:"text-2xl font-bold text-zinc-900 dark:text-white flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-xl text-amber-600 dark:text-amber-400",children:(0,a.jsx)(j.AlertTriangle,{className:"w-5 h-5"})}),"Unsaved Changes"]}),(0,a.jsxs)(D.AlertDialogDescription,{className:"text-zinc-500 dark:text-zinc-400 text-base py-2",children:["You have unsaved changes to your leads list. If you exit now, these changes will be lost.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"font-semibold text-zinc-700 dark:text-zinc-300",children:"Are you sure you want to discard your changes?"})]})]}),(0,a.jsxs)(D.AlertDialogFooter,{className:"gap-3 sm:gap-0",children:[(0,a.jsx)(D.AlertDialogCancel,{className:"rounded-2xl border-zinc-200 dark:border-zinc-800 text-zinc-600 dark:text-zinc-400 font-bold hover:bg-zinc-50 dark:hover:bg-zinc-900 h-12 px-6",children:"Keep Editing"}),(0,a.jsx)(z.Button,{variant:"destructive",onClick:()=>{ep(!1),J(!1),X(!1),eh(!1)},className:"rounded-2xl bg-red-500 hover:bg-red-600 text-white font-bold h-12 px-8 shadow-lg shadow-red-500/20 border-none transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Exit without Saving"})]})]})})]})}e.s(["default",()=>H])}]);