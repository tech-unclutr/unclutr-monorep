(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3067],{92969:(e,t,a)=>{Promise.resolve().then(a.bind(a,39561))},39561:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(95155),n=a(12115),i=a(5877),o=a(89664),s=a(76046),l=a(5151),c=a(53567);function d(){let e=(0,s.useRouter)(),[t,a]=(0,n.useState)("verifying"),[d,u]=(0,n.useState)(""),h=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{if(!h.current){if(h.current=!0,(0,i.Pj)(o.auth,window.location.href)){let t=window.localStorage.getItem("emailForSignIn");t||(t=window.prompt("Please provide your email for confirmation")),t&&(0,i.hK)(o.auth,t,window.location.href).then(async t=>{window.localStorage.removeItem("emailForSignIn"),await (0,l.KF)(t.user),(0,c.sx)("login_success",{method:"email_link"}),a("success"),setTimeout(()=>{e.push("/dashboard")},1e3)}).catch(e=>{console.error(e),a("error"),u((0,l.Rq)(e)),(0,c.sx)("login_failure",{method:"email_link",error:e.message})})}else e.push("/login")}},[e]),(0,r.jsxs)("div",{className:"min-h-screen flex flex-col lg:flex-row bg-background",children:[(0,r.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 bg-[#0A0A0A] p-12 flex-col justify-between relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-primary/5 rounded-full blur-[120px] -mr-64 -mt-64"}),(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsx)("div",{className:"h-10 w-10 rounded-lg bg-white flex items-center justify-center text-black font-bold text-lg mb-12",children:"U"}),(0,r.jsxs)("h1",{className:"text-5xl font-semibold text-white tracking-tight leading-[1.1] max-w-md",children:["Unclutr your ",(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:"text-neutral-500",children:"decisions."})]})]}),(0,r.jsxs)("div",{className:"relative z-10 space-y-4 max-w-sm",children:[(0,r.jsx)("p",{className:"text-neutral-400 text-sm font-medium uppercase tracking-widest mb-6",children:"Live Highlights"}),(0,r.jsxs)("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-8 duration-700 fill-mode-both text-left",children:[(0,r.jsxs)("div",{className:"group bg-[#171717] border border-white/5 p-4 rounded-xl flex items-start space-x-4 transition-all hover:border-white/10 hover:shadow-[0_0_20px_rgba(255,255,255,0.02)]",children:[(0,r.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-500 mt-2 shrink-0 shadow-[0_0_8px_rgba(59,130,246,0.5)]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white text-sm font-medium",children:"Margin Protection"}),(0,r.jsx)("p",{className:"text-neutral-500 text-xs mt-1",children:"Meta Ad Spend automatically paused on low-margin SKUs."})]})]}),(0,r.jsxs)("div",{className:"group bg-[#171717] border border-white/5 p-4 rounded-xl flex items-start space-x-4 opacity-80 scale-95 translate-x-4 transition-all hover:translate-x-0 hover:opacity-100 hover:border-white/10 hover:shadow-[0_0_20px_rgba(255,255,255,0.02)] duration-500",children:[(0,r.jsx)("div",{className:"h-2 w-2 rounded-full bg-emerald-500 mt-2 shrink-0 shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white text-sm font-medium",children:"Inventory Alert"}),(0,r.jsx)("p",{className:"text-neutral-500 text-xs mt-1",children:"Forecast Alert: Stock-out risk for 'Summer Tote' in 12 days."})]})]}),(0,r.jsxs)("div",{className:"group bg-[#171717] border border-white/5 p-4 rounded-xl flex items-start space-x-4 opacity-60 scale-90 translate-x-8 transition-all hover:translate-x-0 hover:opacity-100 hover:border-white/10 hover:shadow-[0_0_20px_rgba(255,255,255,0.02)] duration-500",children:[(0,r.jsx)("div",{className:"h-2 w-2 rounded-full bg-amber-500 mt-2 shrink-0 shadow-[0_0_8px_rgba(245,158,11,0.5)]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white text-sm font-medium",children:"Attribution Truth"}),(0,r.jsx)("p",{className:"text-neutral-500 text-xs mt-1",children:"Channel Corrected: YouTube ROAS is actually 4.2x (not 1.8x)."})]})]})]})]}),(0,r.jsx)("div",{className:"relative z-10 text-neutral-500 text-xs",children:"\xa9 2025 Unclutr AI. Built for the next generation of D2C."})]}),(0,r.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center p-8 sm:p-12 lg:p-24 bg-white dark:bg-zinc-950",children:(0,r.jsxs)("div",{className:"w-full max-w-[360px] space-y-10 text-center",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:["verifying"===t&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"h-20 w-20 rounded-full border-2 border-neutral-100 dark:border-neutral-800"}),(0,r.jsx)("div",{className:"absolute top-0 left-0 h-20 w-20 rounded-full border-t-2 border-black dark:border-white animate-spin"})]}),"success"===t&&(0,r.jsx)("div",{className:"h-20 w-20 rounded-full bg-emerald-50 flex items-center justify-center dark:bg-emerald-950/30",children:(0,r.jsx)("svg",{className:"h-10 w-10 text-emerald-600 dark:text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),"error"===t&&(0,r.jsx)("div",{className:"h-20 w-20 rounded-full bg-red-50 flex items-center justify-center dark:bg-red-950/30",children:(0,r.jsx)("svg",{className:"h-10 w-10 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("h1",{className:"text-2xl font-semibold tracking-tight",children:["verifying"===t&&"Confirming identity","success"===t&&"Welcome aboard","error"===t&&"Link expired"]}),(0,r.jsxs)("p",{className:"text-[15px] text-neutral-500 leading-relaxed",children:["verifying"===t&&"Hold tight while we verify your magic link.","success"===t&&"Verification successful. Redirecting to your command center...","error"===t&&(d||"The sign-in link is no longer valid or has been used. Please try again.")]})]})]}),"error"===t&&(0,r.jsx)("button",{onClick:()=>e.push("/login"),className:"w-full h-12 bg-black text-white rounded-lg font-medium hover:bg-zinc-800 transition-all active:scale-[0.98] dark:bg-white dark:text-black dark:hover:bg-neutral-200",children:"Back to Login"}),(0,r.jsx)("div",{className:"pt-8 text-neutral-400 text-xs",children:"verifying"===t&&"Powered by Unclutr Trust Layer"})]})})]})}},53567:(e,t,a)=>{"use strict";a.d(t,{HK:()=>s,Oz:()=>u,g6:()=>d,st:()=>o,sx:()=>l,v:()=>c});var r=a(12115),n=a(55321),i=a(89664);let o=()=>{(0,r.useEffect)(()=>{(0,n.TT)().then(e=>{if(e)try{let e=(0,n.P5)(i.app);(0,n.$s)(e,"page_view",{page_path:window.location.pathname,page_title:document.title})}catch(e){}})},[])},s=()=>{(0,r.useEffect)(()=>{let e=e=>{let t=e.target.closest("button, a, [data-track]");if(t){let e=t.innerText||t.getAttribute("aria-label")||"";e=e.slice(0,50).trim();let a=t.id||t.getAttribute("data-id")||"unknown",r=t.tagName.toLowerCase();if(t.hasAttribute("data-no-track"))return;l("user_interaction",{event_category:"ui_interaction",event_action:"click",event_label:e,element_type:r,element_id:a,page_path:window.location.pathname})}};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[])},l=(e,t)=>{(0,n.TT)().then(a=>{if(a)try{let a=(0,n.P5)(i.app);(0,n.$s)(a,e,t)}catch(e){}})};function c(e,t){let a={event:e,timestamp:new Date().toISOString(),...t};l(e,t);try{let e=JSON.parse(localStorage.getItem("onboarding_events")||"[]");e.push(a),e.length>100&&e.shift(),localStorage.setItem("onboarding_events",JSON.stringify(e))}catch(e){}}function d(e,t){l("auth_".concat(e),{...t,timestamp:new Date().toISOString()})}function u(e,t){var a;l("error_occurred",{error_message:e.message,error_stack:null===(a=e.stack)||void 0===a?void 0:a.slice(0,500),...t,timestamp:new Date().toISOString()})}},5151:(e,t,a)=>{"use strict";a.d(t,{Rq:()=>c,fH:()=>h,ri:()=>g,f:()=>m,G6:()=>u,KF:()=>d});var r=a(5877),n=a(89664);window.fetch;let i=(e,t)=>{},o=(e,t)=>{console.error("[Firebase Error] ".concat(e,":"),t)};var s=a(53567),l=a(2818);let c=e=>{switch((null==e?void 0:e.code)||""){case"auth/popup-closed-by-user":return"The sign-in window was closed before finishing. Give it another shot!";case"auth/network-request-failed":return"A network hiccup occurred. Please check your connection and try again.";case"auth/invalid-email":return"That doesn't look like a valid email. Double-check for typos?";case"auth/user-disabled":return"This account has been disabled. Please reach out to our support team.";case"auth/too-many-requests":return"System's a bit busy. Please wait a moment before trying again.";case"auth/expired-action-code":return"This login link has expired. Let's send you a fresh one.";case"auth/invalid-action-code":return"This login link isn't valid. Please request a new one below.";case"auth/popup-blocked":return"The login popup was blocked by your browser. Please allow popups for Unclutr.";case"auth/operation-not-allowed":return"This sign-in method isn't enabled yet. We're looking into it.";default:var t;return(null==e?void 0:null===(t=e.message)||void 0===t?void 0:t.includes("network"))?"Connection lost. Please try again.":"Something went wrong on our end. Please try again in a moment."}},d=async e=>{var t;let a="[Sync:".concat(null===(t=e.email)||void 0===t?void 0:t.split("@")[0],"]");i("".concat(a," Starting sync..."));try{let t=await e.getIdToken(),r=l.env.NEXT_PUBLIC_API_URL||"";r.endsWith("/")&&(r=r.slice(0,-1));let n=r.endsWith("/api/v1")?"".concat(r,"/auth/sync"):"".concat(r,"/api/v1/auth/sync"),o=new AbortController,s=setTimeout(()=>o.abort(),8e3),c=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},signal:o.signal});if(clearTimeout(s),!c.ok)throw Error("Sync failed: ".concat(c.status));let d=await c.json();return i("".concat(a," Sync Success"),d),d}catch(t){return o("".concat(a," Sync Error"),t),console.warn("".concat(a," Backend unavailable/Sync failed. Returning partial session.")),{onboarding_completed:!1,current_company_id:null,user_id:e.uid,email:e.email}}},u=async()=>{if("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname){i("signInWithGoogle - Using Popup (Localhost Optimization)");try{let e=new r.HF;e.setCustomParameters({prompt:"select_account"});let t=await (0,r.df)(n.auth,e);return t.user&&((0,s.g6)("login",{method:"google",mode:"popup"}),window.location.assign("/dashboard")),t}catch(e){throw o("signInWithGoogle (Popup)",e),(0,s.g6)("login_failed",{method:"google",mode:"popup",error:e.message}),(0,s.Oz)(e,{context:"google_signin_popup"}),e}}i("signInWithGoogle - Starting (Redirect)");try{let e=new r.HF;e.setCustomParameters({prompt:"select_account"}),await (0,r.$2)(n.auth,e)}catch(e){throw o("signInWithGoogle",e),e}},h=async()=>{try{let e=await (0,r.Q4)(n.auth);if(null==e?void 0:e.user)return(0,s.g6)("login",{method:"google",mode:"redirect"}),e;return null}catch(e){throw o("handleAuthRedirect",e),e}},m=async e=>{i("sendEmailSignInLink",{email:e});try{let t={url:"".concat(window.location.origin,"/auth/verify"),handleCodeInApp:!0};await (0,r.MN)(n.auth,e,t),window.localStorage.setItem("emailForSignIn",e),i("sendEmailSignInLink - Success",{email:e})}catch(e){throw o("sendEmailSignInLink",e),e}},g=async()=>{i("logout - Starting");try{await (0,r.CI)(n.auth),window.localStorage.removeItem("emailForSignIn"),(0,s.g6)("logout"),i("logout - Success")}catch(e){throw o("logout",e),(0,s.Oz)(e,{context:"logout"}),e}}},89664:(e,t,a)=>{"use strict";a.r(t),a.d(t,{app:()=>d,auth:()=>u,initRemoteConfig:()=>m,storage:()=>h});var r=a(49904),n=a(5877),i=a(55321),o=a(66919),s=a(65684),l=a(6802);let c={apiKey:"AIzaSyBV4-x1knQDLxrUw0A5gJCqpDkGYWtxiQ0",authDomain:(()=>{let e=window.location.hostname;return"localhost"===e||"127.0.0.1"===e?"unclutr-monorep.firebaseapp.com":e})(),projectId:"unclutr-monorep",storageBucket:"unclutr-monorep.firebasestorage.app",messagingSenderId:"527397315020",appId:"1:527397315020:web:fb9ccca0b949751fa5bd69",measurementId:"G-Y6S6ESHRFN"};console.log("Firebase Config Loaded (Hardcoded Backup)"),console.log("[Firebase] Using authDomain: ".concat(c.authDomain));let d=0===(0,r.Dk)().length?(0,r.Wp)(c):(0,r.Dk)()[0],u=(0,n.xI)(d);(0,n.oM)(u,n.F0).catch(console.error);let h=(0,l.c7)(d);(0,i.TT)().then(e=>{if(e)try{(0,i.P5)(d)}catch(e){}});try{(0,o.FJ)(d)}catch(e){}let m=async()=>{{let e=(0,s.LO)(d);e.settings.minimumFetchIntervalMillis=36e5;try{await (0,s.LF)(e)}catch(e){console.error("Remote Config fetch failed",e)}return e}}}},e=>{var t=t=>e(e.s=t);e.O(0,[5563,1431,8441,1517,7358],()=>t(92969)),_N_E=e.O()}]);