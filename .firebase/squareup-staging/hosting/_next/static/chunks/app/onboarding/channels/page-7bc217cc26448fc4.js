(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4971],{16981:(e,a,s)=>{Promise.resolve().then(s.bind(s,82876))},82876:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>h});var o=s(95155),t=s(12115),l=s(76046),i=s(36527),r=s(82855),c=s(88424),n=s(62400),d=s(14366),p=s(35901);let g=[{id:"shopify",displayName:"Shopify",type:"integration",categories:["selling_channel_d2c","stack_orders"],popularityRankIndia:1,aliases:["shopify store","ecommerce"],logoUrl:"https://cdn.worldvectorlogo.com/logos/shopify.svg",isActive:!0},{id:"woocommerce",displayName:"WooCommerce",type:"integration",categories:["selling_channel_d2c","stack_orders"],popularityRankIndia:3,aliases:["woo","wp"],logoUrl:"https://cdn.worldvectorlogo.com/logos/woocommerce.svg",isActive:!0},{id:"magento",displayName:"Magento",type:"integration",categories:["selling_channel_d2c","stack_orders"],popularityRankIndia:10,aliases:["adobe commerce"],logoUrl:"https://cdn.worldvectorlogo.com/logos/magento-2.svg",isActive:!0},{id:"amazon",displayName:"Amazon",type:"integration",categories:["selling_channel_marketplace","stack_orders"],popularityRankIndia:1,aliases:["amazon india","seller central"],logoUrl:"https://cdn.worldvectorlogo.com/logos/amazon-icon-1.svg",isActive:!0},{id:"flipkart",displayName:"Flipkart",type:"integration",categories:["selling_channel_marketplace","stack_orders"],popularityRankIndia:2,aliases:["flipkart seller"],logoUrl:"https://seeklogo.com/images/F/flipkart-logo-3F33927DAA-seeklogo.com.png",isActive:!0},{id:"myntra",displayName:"Myntra",type:"integration",categories:["selling_channel_marketplace"],popularityRankIndia:5,aliases:[],logoUrl:"https://www.vectorlogo.zone/logos/myntra/myntra-icon.svg",isActive:!0},{id:"blinkit",displayName:"Blinkit",type:"integration",categories:["selling_channel_qcom"],popularityRankIndia:1,aliases:["grofers"],logoUrl:"https://upload.wikimedia.org/wikipedia/commons/2/2f/Blinkit-yellow-app-icon.svg",isActive:!0},{id:"zepto",displayName:"Zepto",type:"integration",categories:["selling_channel_qcom"],popularityRankIndia:2,aliases:[],logoUrl:"https://upload.wikimedia.org/wikipedia/en/thumb/7/7d/Zepto_Logo.png/220px-Zepto_Logo.png",isActive:!0},{id:"swiggy_instamart",displayName:"Swiggy Instamart",type:"integration",categories:["selling_channel_qcom"],popularityRankIndia:3,aliases:["swiggy"],logoUrl:"https://upload.wikimedia.org/wikipedia/en/thumb/1/12/Swiggy_logo.svg/1200px-Swiggy_logo.svg.png",isActive:!0},{id:"razorpay",displayName:"Razorpay",type:"integration",categories:["stack_payments"],popularityRankIndia:1,aliases:["rzp"],logoUrl:"https://cdn.worldvectorlogo.com/logos/razorpay.svg",isActive:!0},{id:"cashfree",displayName:"Cashfree",type:"integration",categories:["stack_payments"],popularityRankIndia:2,aliases:[],logoUrl:"https://www.cashfree.com/wp-content/uploads/2021/08/Cashfree-Logo.png",isActive:!0},{id:"stripe",displayName:"Stripe",type:"integration",categories:["stack_payments"],popularityRankIndia:5,aliases:[],logoUrl:"https://cdn.worldvectorlogo.com/logos/stripe-4.svg",isActive:!0},{id:"shiprocket",displayName:"Shiprocket",type:"integration",categories:["stack_shipping"],popularityRankIndia:1,aliases:[],logoUrl:"https://www.shiprocket.in/wp-content/uploads/2019/07/sr-logo-new.png",isActive:!0},{id:"delhivery",displayName:"Delhivery",type:"integration",categories:["stack_shipping"],popularityRankIndia:2,aliases:[],logoUrl:"https://upload.wikimedia.org/wikipedia/commons/b/b5/Delhivery_Logo.png",isActive:!0},{id:"tally",displayName:"Tally",type:"integration",categories:["accounting_tools"],popularityRankIndia:1,aliases:["tally prime","tally erp"],logoUrl:"https://upload.wikimedia.org/wikipedia/commons/e/e9/Tally_Logo.png",isActive:!0},{id:"zoho_books",displayName:"Zoho Books",type:"integration",categories:["accounting_tools"],popularityRankIndia:2,aliases:["zoho"],logoUrl:"https://www.vectorlogo.zone/logos/zoho/zoho-icon.svg",isActive:!0},{id:"bank_transfer",displayName:"Bank Transfer",type:"integration",categories:["stack_payouts"],popularityRankIndia:1,aliases:["neft","rtgs","imps"],logoUrl:"https://cdn.worldvectorlogo.com/logos/bank-transfer.svg",isActive:!0},{id:"excel_csv",displayName:"Excel/CSV",type:"pseudo",categories:["selling_channel_d2c","selling_channel_marketplace","selling_channel_qcom","stack_orders","stack_payments","stack_shipping","stack_payouts","accounting_tools"],popularityRankIndia:0,aliases:["csv","excel","spreadsheet"],logoUrl:"https://cdn.worldvectorlogo.com/logos/excel-4.svg",isActive:!0},{id:"not_sure",displayName:"Not sure",type:"pseudo",categories:["selling_channel_d2c","selling_channel_marketplace","selling_channel_qcom","stack_orders","stack_payments","stack_shipping","stack_payouts","accounting_tools"],popularityRankIndia:100,aliases:["idk","help"],logoUrl:"",isActive:!0}];var m=s(25739);function h(){let e=(0,l.useRouter)(),{state:a,updateChannels:s,saveCurrentPage:h}=(0,d.z)(),{user:y,loading:u}=(0,p.A)(),[k,_]=(0,t.useState)("d2c"),v=t.useRef(a);(0,t.useEffect)(()=>{v.current=a},[a]);let[x,w]=(0,t.useState)([]),[b,f]=(0,t.useState)(!0),N=e=>{let s=a.channels[e];return Array.isArray(s)?s.length>0:!!s};(0,t.useEffect)(()=>{N("d2c")?N("marketplaces")?N("qcom")?N("others")&&_("others"):_("qcom"):_("marketplaces"):_("d2c")},[]),(0,t.useEffect)(()=>{(async()=>{if(!u&&y)try{let e=await m.F.get("/datasources");w(e)}catch(e){console.error("Failed to load datasources",e),alert("Failed to load channel options. Please refresh the page or check your connection.")}finally{f(!1)}})()},[y,u]);let A=e=>(x||[]).filter(a=>a.category===e&&a.is_common),S=[...Array.isArray(a.channels.d2c)?a.channels.d2c:a.channels.d2c?[a.channels.d2c]:[],...a.channels.marketplaces||[],...a.channels.qcom||[],...a.channels.others||[]],j=e=>{let o=null;if("Storefront"===e.category?o="d2c":"Marketplace"===e.category?o="marketplaces":"QuickCommerce"===e.category?o="qcom":["Network","SocialCommerce"].includes(e.category)&&(o="others"),o){let t=a.channels[o],l=Array.isArray(t)?t:t?[t]:[];s({[o]:l.includes(e.id)?l.filter(a=>a!==e.id):[...l,e.id]})}},I=(e,o)=>{let t=a.channels[e],l=Array.isArray(t)?t:t?[t]:[];s({[e]:l.includes(o)?l.filter(e=>e!==o):[...l,o]})},z=async()=>{try{await h()}catch(e){console.error("Failed to save progress",e)}"d2c"===k?N("d2c")&&_("marketplaces"):"marketplaces"===k?_("qcom"):"qcom"===k?N("others")?_("others"):e.push("/onboarding/stack"):"others"===k&&e.push("/onboarding/stack")},C="d2c"===k&&!N("d2c");(0,t.useEffect)(()=>{let e=e=>{let a=e.target;!(a&&["INPUT","TEXTAREA","BUTTON"].includes(a.tagName))&&("Enter"!==e.key||C||z())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[k,C,z]);let R=e=>{let s=a.channels[e],t=Array.isArray(s)?s:s?[s]:[];if(!t||0===t.length)return(0,o.jsx)("p",{className:"text-sm text-zinc-400 italic",children:"None selected"});let l=t.map(e=>x.find(a=>a.id===e)||g.find(a=>a.id===e)).filter(Boolean);return(0,o.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:l.map(e=>{var a;let s=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes("not applicable");return(0,o.jsxs)("div",{className:"inline-flex items-center gap-2 bg-white border border-zinc-200 shadow-sm rounded-lg px-2.5 py-1",children:[e.logoUrl||e.logo_url?(0,o.jsx)("img",{src:e.logoUrl||e.logo_url,alt:"",className:"w-4 h-4 object-contain"}):s?(0,o.jsx)("div",{className:"w-4 h-4 rounded-full border border-zinc-200 flex items-center justify-center",children:(0,o.jsx)(i.A,{size:10,className:"text-zinc-400",strokeWidth:2})}):(0,o.jsx)("div",{className:"w-4 h-4 rounded-full bg-zinc-100 flex items-center justify-center text-[8px] font-bold",children:(e.name||"?")[0]}),(0,o.jsx)("span",{className:"text-xs font-medium text-zinc-700",children:e.display_name||e.name})]},e.id)})})},U=N("others");return(0,o.jsx)(r.c,{title:"Where does ".concat(a.brandName||"your brand"," sell?"),subtitle:"Select all platforms you currently use.",onNext:z,nextDisabled:C,children:(0,o.jsxs)("div",{className:"mt-8 max-w-xl mx-auto pb-24",children:[(0,o.jsx)(c.x,{stepNumber:1,title:"D2C Website",description:"Your own storefront(s).",isActive:"d2c"===k,isCompleted:N("d2c")&&"d2c"!==k,onEdit:()=>_("d2c"),summary:R("d2c"),children:(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsx)("div",{className:"bg-blue-50/50 rounded-xl p-4 border border-blue-100/50 mb-4",children:(0,o.jsxs)("p",{className:"text-sm text-blue-900 leading-relaxed",children:[(0,o.jsx)("span",{className:"font-semibold",children:"Why?"})," Helps us parse order IDs and tax rules correctly."]})}),(0,o.jsx)(n.I,{category:"selling_channel_d2c",commonSources:A("Storefront"),allSources:x,isLoading:b,selectedIds:Array.isArray(a.channels.d2c)?a.channels.d2c:a.channels.d2c?[a.channels.d2c]:[],globalSelectedIds:S,priorityCategory:"Storefront",onToggle:e=>I("d2c",e),onGlobalSelect:j,showSearch:!1})]})}),(0,o.jsx)(c.x,{stepNumber:2,title:"Marketplaces",description:"Portal channels like Amazon, Flipkart, etc.",isActive:"marketplaces"===k,isCompleted:N("marketplaces")&&"marketplaces"!==k,onEdit:()=>_("marketplaces"),summary:R("marketplaces"),children:(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsx)("div",{className:"bg-amber-50/50 rounded-xl p-4 border border-amber-100/50 mb-4",children:(0,o.jsxs)("p",{className:"text-sm text-amber-900 leading-relaxed",children:[(0,o.jsx)("span",{className:"font-semibold",children:"Note:"})," Select all that apply."]})}),(0,o.jsx)(n.I,{category:"selling_channel_marketplace",commonSources:A("Marketplace"),allSources:x,isLoading:b,selectedIds:a.channels.marketplaces,globalSelectedIds:S,priorityCategory:"Marketplace",onToggle:e=>I("marketplaces",e),onGlobalSelect:j,showSearch:!1})]})}),(0,o.jsx)(c.x,{stepNumber:3,title:"Quick Commerce",description:"Hyper-local delivery platforms.",isActive:"qcom"===k,isCompleted:N("qcom")&&"qcom"!==k,isLast:!U,onEdit:()=>_("qcom"),summary:R("qcom"),children:(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsx)("div",{className:"bg-orange-50/50 rounded-xl p-4 border-orange-100/50 mb-4",children:(0,o.jsxs)("p",{className:"text-sm text-orange-900 leading-relaxed",children:[(0,o.jsx)("span",{className:"font-semibold",children:"Tip:"})," Only active channels."]})}),(0,o.jsx)(n.I,{category:"selling_channel_qcom",commonSources:A("QuickCommerce"),allSources:x,isLoading:b,selectedIds:a.channels.qcom,globalSelectedIds:S,priorityCategory:"QuickCommerce",onToggle:e=>I("qcom",e),onGlobalSelect:j,showSearch:!1})]})}),U&&(0,o.jsx)(c.x,{stepNumber:4,title:"Other Channels",description:"Social commerce, ONDC, etc.",isActive:"others"===k,isCompleted:N("others")&&"others"!==k,isLast:!0,onEdit:()=>_("others"),summary:R("others"),children:(0,o.jsx)("div",{className:"space-y-6",children:(0,o.jsx)(n.I,{category:"selling_channel_others",commonSources:[...A("Network"),...A("SocialCommerce")],allSources:x,isLoading:b,selectedIds:a.channels.others||[],globalSelectedIds:S,onToggle:e=>I("others",e),onGlobalSelect:j,showSearch:!1})})})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[5563,1431,1226,24,763,5714,5901,1082,2855,7412,8441,1517,7358],()=>a(16981)),_N_E=e.O()}]);