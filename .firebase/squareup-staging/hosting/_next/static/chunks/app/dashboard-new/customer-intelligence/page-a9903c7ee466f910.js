(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7973],{86263:(e,a,t)=>{Promise.resolve().then(t.bind(t,88907))},88907:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>E});var i=t(95155),l=t(12115),r=t(28633),n=t(71226),s=t(23817),o=t(14505),c=t(30098),d=t(32423),m=t(48251),g=t(40767),x=t(46967);t(35007);var u=t(14085),h=t(29602);t(88680);var p=t(25739),y=t(76046),f=t(81826),v=t(14640),b=t(37310),w=t(30814),j=t(447),N=t(94640),k=t(64104),S=t(20016),I=t(35901),C=t(8807);function E(){let e;let{loading:a,companyId:t,dbUser:E,refreshAuth:_}=(0,I.A)(),[F,A]=(0,l.useState)("IDLE"),[R,D]=(0,l.useState)(null),[M,P]=(0,l.useState)(!1),[L,T]=(0,l.useState)(null),[B,z]=(0,l.useState)([]),[V,O]=(0,l.useState)(""),[U,$]=(0,l.useState)(!1),[G,W]=(0,l.useState)(!1),[H,K]=(0,l.useState)(!1),[Y,q]=(0,l.useState)(!0),[X,J]=(0,l.useState)(!1),[Q,Z]=(0,l.useState)(null),[ee,ea]=(0,l.useState)(null),[et,ei]=(0,l.useState)({name:"",phone:"",linkedin:"",role:"",department:""}),[el,er]=(0,l.useState)(!1),[en,es]=(0,l.useState)(!1),[eo,ec]=(0,l.useState)(!0),[ed,em]=(0,l.useState)(!1),[eg,ex]=(0,l.useState)(null),[eu,eh]=(0,l.useState)("composer"),[ep,ey]=(0,l.useState)(null),[ef,ev]=(0,l.useState)(!0),[eb,ew]=(0,l.useState)(!1),ej=(0,y.useSearchParams)(),eN=(0,y.useRouter)(),[ek,eS]=(0,l.useState)([]),[eI,eC]=(0,l.useState)([]),[eE,e_]=(0,l.useState)(!1),[eF,eA]=(0,l.useState)(0),[eR,eD]=(0,l.useState)(!0),[eM,eP]=(0,l.useState)(0),[eL,eT]=(0,l.useState)(!0),[eB,ez]=(0,l.useState)(!1);ek.length>0&&ek[0];let eV=!!((null==E?void 0:E.full_name)&&(null==E?void 0:E.contact_number)&&(null==E?void 0:E.designation)&&(null==E?void 0:E.team)&&(null==E?void 0:E.linkedin_profile)),[eO,eU]=(0,l.useState)(!1),[e$,eG]=(0,l.useState)(3);(0,l.useEffect)(()=>{if(eV){if(eO){eG(3);let e=setInterval(()=>{eG(a=>a<=1?(clearInterval(e),ev(!1),0):a-1)},1e3);return()=>clearInterval(e)}ev(!1)}},[eV,eO]);let eW=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!a&&t)try{e_(!0);let a=await p.F.get("/intelligence/campaigns?limit=".concat(l,"&offset=").concat(e));if(i)eS(e=>[...e,...a.campaigns]);else{eS(a.campaigns),a.campaigns.length>0&&a.campaigns[0];let e={name:(null==E?void 0:E.full_name)||"",phone:(null==E?void 0:E.contact_number)||"",role:(null==E?void 0:E.designation)||"",department:(null==E?void 0:E.team)||"",linkedin:(null==E?void 0:E.linkedin_profile)||""};ei({name:e.name,phone:e.phone,role:e.role,department:e.department,linkedin:e.linkedin}),e.name&&e.phone&&e.role&&e.department&&e.linkedin&&er(!0)}eD(a.campaigns.length>=l);let t=a.campaigns.length;if(i?eA(e=>e+t):eA(t),!i)try{let e=await p.F.get("/intelligence/campaigns/archived?limit=3&offset=0");eC(e||[]),eP((null==e?void 0:e.length)||0),eT(((null==e?void 0:e.length)||0)>=3)}catch(e){console.warn("Failed to fetch archived campaigns:",e)}}catch(e){console.error("Failed to fetch campaigns:",e),w.oR.error("Failed to load campaign history")}finally{e_(!1),ec(!1)}};(0,l.useEffect)(()=>{!a&&t&&eW()},[a,t]),(0,l.useEffect)(()=>{if(!a&&t){let e=setInterval(()=>{if("visible"===document.visibilityState){let e=ek.length;eW(0,!1,e>0?e:3)}},15e3);return()=>clearInterval(e)}},[a,t,ek.length]);let eH=()=>{eW(eF,!0)},eK=async()=>{if(!eB&&eL)try{ez(!0);let e=await p.F.get("/intelligence/campaigns/archived?limit=10&offset=".concat(eM));eC(a=>[...a,...e||[]]),eP(a=>a+((null==e?void 0:e.length)||0)),eT(((null==e?void 0:e.length)||0)>=10)}catch(e){console.error("Failed to load more archived campaigns:",e),w.oR.error("Failed to load more archived campaigns")}finally{ez(!1)}},eY=async e=>{try{await p.F.delete("/intelligence/campaigns/".concat(e)),eS(a=>a.filter(a=>a.id!==e)),w.oR.success("Campaign deleted successfully")}catch(e){throw console.error("Failed to delete campaign:",e),w.oR.error(e.message||"Failed to delete campaign"),e}},eq=async e=>{try{await p.F.post("/intelligence/campaigns/".concat(e,"/archive"),{}),ek.find(a=>a.id===e),eS(a=>a.filter(a=>a.id!==e));let a=await p.F.get("/intelligence/campaigns/archived?limit=3&offset=0");eC(a||[]),eP((null==a?void 0:a.length)||0),eT(((null==a?void 0:a.length)||0)>=3),w.oR.success("Campaign archived successfully")}catch(e){throw console.error("Failed to archive campaign:",e),w.oR.error(e.message||"Failed to archive campaign"),e}};(0,l.useEffect)(()=>{"COMPLETED"===F&&ee&&eW(0,!1,ek.length+1)},[F,ee]),(0,l.useEffect)(()=>{ep&&setTimeout(()=>{let e=document.getElementById("campaign-card-".concat(ep)),a=document.getElementById("customer-intelligence-scroll-container");if(e&&a){let t=e.getBoundingClientRect().top,i=a.getBoundingClientRect().top,l=a.scrollTop;a.scrollTo({top:l+(t-i)+-20,behavior:"smooth"})}else e&&e.scrollIntoView({behavior:"smooth",block:"start"})},100)},[ep]);let eX=async()=>{if(!a&&t)try{let e=await p.F.get("/intelligence/calendar/status");P(e.connected),T(e)}catch(e){console.error("Failed to fetch calendar status:",e)}finally{q(!1)}};(0,l.useEffect)(()=>{!a&&t&&eX()},[a,t]),(0,l.useEffect)(()=>{let e=setInterval(()=>{!a&&t&&eX()},1e4);return()=>clearInterval(e)},[a,t]),(0,l.useEffect)(()=>{(null==ej?void 0:ej.get("calendar_connected"))==="true"&&!a&&t&&eX()},[ej,a,t]);let eJ=async()=>{try{if(W(!0),!localStorage.getItem("unclutr_company_id")){console.error("Missing unclutr_company_id in localStorage"),w.oR.error("Session error: Please try refreshing the page or logging in again."),W(!1);return}let e=await p.F.get("/intelligence/calendar/google/login");if(e.url)window.location.href=e.url;else throw Error("Invalid response from server")}catch(e){console.error("Failed to start Google OAuth:",e),w.oR.error("Failed to connect calendar: ".concat(e.message||"Unknown error")),W(!1)}},[eQ,eZ]=(0,l.useState)({name:"",phone:"",linkedin:"",role:"",department:""}),e0=async function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!1===e||!et.name.trim()||et.role.trim().length<2||et.department.trim().length<2){er(!1);return}try{es(!0),await p.F.post("/intelligence/campaigns/onboarding",{name:et.name,phone_number:et.phone,linkedin:et.linkedin,team_member_role:et.role,team_member_department:et.department}),er(!0),eU(!0),eZ({...et}),w.oR.success("Identity Verified. Customer Intelligence Unlocked.");try{await _()}catch(e){console.warn("Failed to refresh auth after contact save:",e)}setTimeout(()=>{eW(0,!1,ek.length+1)},1e3)}catch(t){var a;console.error("Failed to save contact details:",t),er(!1);let e=(null==t?void 0:t.message)||(null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to save contact details. Please try again.";w.oR.error(e)}finally{es(!1)}};e=25,eV&&(e+=25),M&&(e+=25),"REVIEW"===F&&(e+=25);let e1=async()=>{try{K(!0),await p.F.delete("/intelligence/calendar/disconnect"),P(!1),T(null),$(!1),w.oR.success("Calendar disconnected successfully")}catch(e){console.error("Failed to disconnect calendar:",e),w.oR.error("Failed to disconnect calendar: ".concat(e.message||"Unknown error"))}finally{K(!1)}},e5=async e=>{let a=null==ee?void 0:ee.id;if(!a&&ek.length>0&&(a=ek[0].id),!a){w.oR.error("No active campaign found. Please start a campaign first.");return}try{await p.F.post("/intelligence/campaigns/".concat(a,"/windows"),e),w.oR.success("Execution window blocked & synced to calendar!");let t=await p.F.get("/intelligence/campaigns/".concat(a));ea(t),eX()}catch(e){var t;console.error("Failed to save window:",e),(null===(t=e.response)||void 0===t?void 0:t.status)===404||404===e.status||e.message&&e.message.includes("not found")?(w.oR.error("Campaign not found. Refreshing your list..."),await eW(0,!1,Math.max(ek.length,3)),(null==ee?void 0:ee.id)===a&&ea(null)):w.oR.error(e.message||"Failed to save execution window")}};return(0,i.jsx)("div",{id:"customer-intelligence-scroll-container",className:"p-6 md:p-8 h-[calc(100vh-4rem)] flex flex-col overflow-y-auto scrollbar-hide",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto w-full flex-1 flex flex-col",children:[(0,i.jsx)(r.N,{mode:"wait",children:eo?(0,i.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex items-center justify-center min-h-[400px]",children:(0,i.jsx)(b.h,{text:"Establishing Secure Connection..."})},"loading"):!eV||ef?(0,i.jsxs)(n.P.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.02,filter:"blur(10px)"},transition:{duration:.5,ease:"easeInOut"},onClick:()=>ev(!1),className:"flex-1 relative flex flex-col items-center justify-center max-w-lg mx-auto w-full min-h-[60vh] cursor-pointer",children:[(0,i.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[1000px] h-[1000px] bg-gradient-radial from-orange-500/10 via-transparent to-transparent blur-[120px] pointer-events-none transition-opacity duration-1000"}),(0,i.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-radial from-emerald-500/5 via-transparent to-transparent blur-[80px] pointer-events-none transition-opacity duration-1000"}),(0,i.jsxs)("div",{className:"relative z-10 text-center mb-8 space-y-4",children:[(0,i.jsxs)(n.P.div,{initial:{y:0},animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:6,ease:"easeInOut"},className:"inline-flex items-center justify-center w-24 h-24 rounded-[2.5rem] bg-gradient-to-br from-white to-gray-50 dark:from-zinc-900 dark:to-black text-gray-900 dark:text-white shadow-2xl shadow-orange-500/20 mb-6 backdrop-blur-xl ring-1 ring-gray-200 dark:ring-white/10 relative",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-white/40 dark:bg-white/5 rounded-[2.5rem] animate-pulse"}),(0,i.jsx)(s.A,{className:"w-10 h-10 text-orange-500 drop-shadow-[0_0_15px_rgba(249,115,22,0.4)] relative z-10"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-b from-gray-900 via-gray-800 to-gray-600 dark:from-white dark:to-gray-400 tracking-tighter mb-2",children:"Identity Verification"}),(0,i.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed max-w-md mx-auto font-medium",children:"Before granting access to the Intelligence Engine, please verify your identity and operational role."})]})]}),(0,i.jsx)(N.$,{contactDetails:et,onChange:(e,a)=>{ei(t=>({...t,[e]:a}))},isSaved:el,isLoading:en,onSave:e0,className:"relative z-10 w-full"}),eV&&(0,i.jsx)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"relative z-10 mt-6 text-center",children:(0,i.jsxs)("p",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest bg-white/50 dark:bg-black/50 px-4 py-2 rounded-full backdrop-blur-md border border-white/10 inline-flex items-center gap-2",children:[(0,i.jsx)(o.A,{className:"w-3 h-3 animate-spin text-emerald-500"}),"Redirecting to Dashboard in ",(0,i.jsx)("span",{className:"text-emerald-500 font-mono text-xs",children:e$}),"s"]})})]},"verification"):(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"w-full space-y-12",children:[(0,i.jsxs)("div",{className:"text-center space-y-3 py-8",children:[(0,i.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-md bg-gray-50 dark:bg-white/[0.03] border border-gray-200/50 dark:border-white/[0.06]",children:[(0,i.jsx)(c.A,{className:"w-3.5 h-3.5 text-orange-500"}),(0,i.jsx)("span",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Intelligence Engine"})]}),(0,i.jsx)("h1",{className:"text-4xl md:text-5xl font-semibold text-gray-900 dark:text-white tracking-tight",children:"Customer Intelligence Lab"}),(0,i.jsx)("p",{className:"text-base text-gray-500 dark:text-gray-400 max-w-2xl mx-auto leading-relaxed",children:"Upload your leads, and watch our AI conduct personalized discovery calls. Get deep customer insights and tailored campaign strategiesâ€”automatically."})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 lg:gap-6",children:[(0,i.jsx)("div",{className:"lg:col-span-3",children:(0,i.jsx)(k.K,{className:"h-full min-h-[400px] shadow-sm border-gray-200/80 dark:border-white/[0.08]",onSuccess:()=>{eW(0,!1,ek.length+1)},isMagicUI:C.$.IS_MAGIC_AI_ENABLED})}),(0,i.jsxs)("div",{className:"relative group rounded-[2.5rem] overflow-hidden flex flex-col h-auto self-start",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-white dark:bg-zinc-900/50 border border-gray-200/80 dark:border-white/[0.08] transition-all duration-200 group-hover:border-gray-300 dark:group-hover:border-white/[0.12] rounded-[2.5rem]"}),(0,i.jsxs)("div",{className:"relative p-6 flex flex-col h-full z-10",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-white/[0.06] text-gray-600 dark:text-gray-400 mt-0.5",children:(0,i.jsx)(d.A,{className:"w-4 h-4"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-1.5 leading-none",children:"Calendar Access"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0 leading-relaxed max-w-[140px]",children:"Sync schedule to block execution windows."})]})]}),(0,i.jsxs)("div",{className:(0,h.cn)("px-2.5 py-1 rounded-full text-[10px] font-bold border flex items-center gap-1.5 shrink-0",M?"bg-emerald-50 text-emerald-600 border-emerald-200/50 dark:bg-emerald-500/10 dark:text-emerald-400 dark:border-emerald-500/20":"bg-gray-50 text-gray-400 border-gray-200/50 dark:bg-white/[0.03] dark:border-white/[0.06]"),children:[(0,i.jsx)("div",{className:(0,h.cn)("w-1.5 h-1.5 rounded-full",M?"bg-emerald-500 animate-pulse":"bg-gray-400")}),M?"ACTIVE":"OFFLINE"]})]}),Y||G||H?(0,i.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,i.jsx)(b.h,{text:G?"Connecting...":"Syncing..."})}):M?(0,i.jsxs)("div",{className:"flex flex-col flex-1 space-y-6",children:[(0,i.jsxs)("div",{className:"p-3 rounded-2xl bg-emerald-50 dark:bg-emerald-500/5 border border-emerald-200/50 dark:border-emerald-500/10 flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),(0,i.jsx)("span",{className:"text-[11px] font-semibold text-emerald-700 dark:text-emerald-400",children:"Google Calendar"})]}),(0,i.jsx)(u.$,{variant:"ghost",size:"icon",onClick:()=>{$(!0)},className:"w-6 h-6 text-gray-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-500/10 rounded-full transition-colors",children:(0,i.jsx)(g.A,{className:"w-3.5 h-3.5"})})]}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-400",children:"24H Availability"}),(0,i.jsx)("button",{onClick:()=>J(!0),className:"text-[10px] text-blue-500 hover:text-blue-600 font-semibold",children:"View Week"})]}),(0,i.jsx)("div",{className:"grid grid-cols-8 gap-1 p-2.5 bg-gray-50 dark:bg-white/[0.02] rounded-lg border border-gray-200/50 dark:border-white/[0.06] cursor-pointer hover:border-gray-300 dark:hover:border-white/[0.1] transition-colors",onClick:()=>J(!0),title:"View Full Week",children:(()=>{let e=new Date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());return Array.from({length:18}).map((e,t)=>{let i=new Date(a.getTime()+36e5*t),l=new Date(a.getTime()+(t+1)*36e5);return{isBusy:((null==L?void 0:L.busy_slots)||[]).some(e=>{let a=new Date(e.start).getTime(),t=new Date(e.end).getTime();return a<l.getTime()&&t>i.getTime()}),key:t}}).map(e=>(0,i.jsx)("div",{className:(0,h.cn)("aspect-square rounded-full transition-all duration-300",e.isBusy?"bg-rose-500/70":"bg-emerald-500/20")},e.key))})()})]})]}):(0,i.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,i.jsxs)(u.$,{onClick:eJ,className:"w-full rounded-2xl h-10 bg-gray-900 dark:bg-white hover:bg-gray-800 dark:hover:bg-gray-100 text-white dark:text-gray-900 text-xs font-semibold transition-all shadow-lg",children:["Connect Google",(0,i.jsx)(m.A,{className:"w-3.5 h-3.5 ml-1.5 opacity-50"})]})})]})]})]}),(0,i.jsxs)("div",{id:"latest-campaigns",className:"pt-8 border-t border-gray-100 dark:border-white/[0.05]",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Latest campaigns"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Monitor and manage your active intelligence campaigns."})]}),ek.length>0&&eR&&(0,i.jsx)(u.$,{variant:"ghost",onClick:()=>eH(),disabled:eE,className:"text-xs font-medium text-gray-500 hover:text-gray-900 dark:hover:text-white h-8",children:eE?"Loading...":"View More"})]}),0!==ek.length||eE?(0,i.jsx)(n.P.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,i.jsx)(r.N,{children:Array.from(new Map(ek.map(e=>[e.id,e])).values()).map((e,a)=>{let t=ep===e.id;return(0,i.jsx)(n.P.div,{layout:!0,transition:{layout:{duration:.5,type:"spring",stiffness:100,damping:20}},id:"campaign-card-".concat(e.id),className:(0,h.cn)(t?"col-span-1 md:col-span-2 lg:col-span-3 order-first":"col-span-1"),children:(0,i.jsx)(j.p,{campaign:e,variant:"summary",isExpanded:t,onToggleExpand:()=>ey(t?null:e.id),onDelete:eY,onArchive:eq,onEditClick:e=>{ex(e),eh("composer"),em(!0)},onClick:()=>!t&&ey(e.id),onStartCampaign:()=>{eN.push("/dashboard-new/customer-intelligence/campaign/".concat(e.id))},isMagicUI:C.$.IS_MAGIC_AI_ENABLED})},e.id||a)})})}):(0,i.jsxs)("div",{className:"py-20 rounded-xl border border-dashed border-gray-200 dark:border-white/[0.08] bg-gray-50/50 dark:bg-white/[0.01] flex flex-col items-center justify-center text-center",children:[(0,i.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-white/[0.05] flex items-center justify-center mb-4",children:(0,i.jsx)(c.A,{className:"w-5 h-5 text-gray-400"})}),(0,i.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-1",children:"No campaigns yet"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 max-w-[200px] leading-relaxed",children:"Your generated interview strategies will appear here."})]}),eE&&(0,i.jsx)("div",{className:"w-full flex justify-center py-8",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})})]}),!1]},"dashboard")}),(0,i.jsx)(f.T,{isOpen:U,onClose:()=>$(!1),onConfirm:e1,isLoading:H}),(0,i.jsx)(v.z,{isOpen:X,onClose:()=>J(!1),busySlots:(null==L?void 0:L.busy_slots)||[],activeCampaign:ee||(ek.length>0?ek[0]:null),onSaveWindow:e5}),(0,i.jsx)(r.N,{children:ed&&(0,i.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 md:p-8",children:(0,i.jsx)(n.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-4xl",children:"leads"===eu?(0,i.jsx)(k.K,{mode:"edit",campaignId:eg,onLeadsUpdated:()=>{eW(0,!1,ek.length+1),eh("composer")},onCancel:()=>em(!1),className:"h-full shadow-2xl"}):(0,i.jsx)(S.X,{campaignId:eg,isMagicUI:C.$.IS_MAGIC_AI_ENABLED,onComplete:()=>{eW(0,!1,ek.length+1),em(!1)},onBack:()=>{eW(0,!1,Math.max(ek.length,3)),em(!1)},onEditLeads:()=>eh("leads"),className:"h-full shadow-2xl"},"composer-".concat(eg,"-").concat(eu))})})}),eI.length>0&&!ed&&(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mt-12 mb-8",children:[(0,i.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Archived Campaigns"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View your archived campaign history."})]})}),(0,i.jsx)(n.P.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 opacity-75 grayscale hover:grayscale-0 transition-all duration-500",children:(0,i.jsx)(r.N,{children:eI.map(e=>{let a=ep===e.id;return(0,i.jsx)(n.P.div,{layout:!0,transition:{layout:{duration:.5,type:"spring",stiffness:100,damping:20}},id:"campaign-card-".concat(e.id),className:(0,h.cn)(a?"col-span-1 md:col-span-2 lg:col-span-3 order-first":"col-span-1"),children:(0,i.jsx)(j.p,{campaign:e,variant:"summary",isExpanded:a,onToggleExpand:()=>ey(a?null:e.id),isArchived:!0,onDelete:async()=>{},onEdit:async()=>{},onArchive:async()=>{},onClick:()=>!a&&ey(e.id),isMagicUI:C.$.IS_MAGIC_AI_ENABLED})},e.id)})})}),eL&&(0,i.jsx)("div",{className:"flex justify-center mt-6",children:(0,i.jsx)(u.$,{variant:"outline",onClick:eK,disabled:eB,className:"gap-2",children:eB?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.A,{className:"h-4 w-4 animate-spin"}),"Loading..."]}):(0,i.jsxs)(i.Fragment,{children:["View More Archived",(0,i.jsx)(x.A,{className:"h-4 w-4"})]})})})]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[5563,3524,586,1431,1226,24,763,4158,814,9943,7641,1053,6374,1877,9022,9213,5901,8804,2324,8356,5101,8441,1517,7358],()=>a(86263)),_N_E=e.O()}]);