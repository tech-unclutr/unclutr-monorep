(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2752],{20180:(e,a,n)=>{Promise.resolve().then(n.bind(n,74541))},74541:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>x});var t=n(95155),r=n(12115),o=n(76046),i=n(26336),c=n(23817),l=n(9110),s=n(45471),d=n(66889),u=n(79486);let m=(0,n(67401).A)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]);var y=n(14366),h=n(35901),g=n(41082),b=n(25739),p=n(30814),f=n(68019);function x(){var e,a,n,x,v,N,A;let k=(0,o.useRouter)(),{state:S}=(0,y.z)(),{user:z,refreshAuth:C}=(0,h.A)(),[T,E]=(0,r.useState)([]),[M,j]=(0,r.useState)(!0),[w,R]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(z)try{let e=await z.getIdToken(),a=await b.F.get("/datasources/",{Authorization:"Bearer ".concat(e)});E(a)}catch(e){console.error("Failed to load datasources",e),p.oR.error("Catalogue connection issues",{description:"We couldn't load your selections. Try refreshing the page?"})}finally{j(!1)}})()},[z]);let _=e=>T.find(a=>a.id===e),G=e=>e&&0!==e.length?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map(e=>{let a=_(e);return a?(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 bg-white border border-zinc-200 shadow-sm rounded-lg px-3 py-1.5",children:[a.logo_url&&(0,t.jsx)("img",{src:a.logo_url,alt:"",className:"w-4 h-4 object-contain"}),(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-700",children:a.display_name||a.name})]},e):null})}):(0,t.jsx)("p",{className:"text-sm text-zinc-400 italic",children:"None selected"}),P=[...Array.isArray(S.channels.d2c)?S.channels.d2c:S.channels.d2c?[S.channels.d2c]:[],...S.channels.marketplaces||[],...S.channels.qcom||[],...S.channels.others||[]],D={Logistics:S.stack.shipping||[],Payments:S.stack.payments||[],Marketing:S.stack.marketing||[],Analytics:S.stack.analytics||[],Accounting:S.stack.finance||[]},B=async()=>{R(!0);try{if(z){let e=await g.S.onboarding.finishOnboardingApiV1OnboardingFinishPost();e.company_id&&localStorage.setItem("unclutr_company_id",e.company_id),await C(),localStorage.removeItem("unclutr_onboarding_draft"),p.oR.success("Welcome aboard!",{description:"Unleashing your dashboard pulse now..."}),setTimeout(()=>{k.push("/dashboard")},1e3)}}catch(e){console.error("Failed to complete onboarding",e),p.oR.error("Onboarding hit a snag",{description:"We couldn't finalize your setup. Let's try once more?"}),R(!1);return}};return M?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-zinc-400",children:"Loading..."})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-zinc-50 to-white",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-12",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:(0,t.jsx)(i.A,{size:32,className:"text-green-600"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-zinc-900 mb-2",children:"You're All Set! \uD83C\uDF89"}),(0,t.jsx)("p",{className:"text-lg text-zinc-600",children:"Here's what we learned about your business"}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 bg-zinc-50 border border-zinc-200 text-zinc-600 px-4 py-2 rounded-full",children:[(0,t.jsx)(c.A,{size:16}),(0,t.jsxs)("span",{className:"text-sm",children:["You are setting up this workspace as the ",(0,t.jsx)("span",{className:"font-semibold text-zinc-900",children:"Owner"})]})]})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-zinc-200 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(l.A,{size:20,className:"text-zinc-600"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-zinc-900",children:"Brand Information"})]}),(0,t.jsx)("button",{onClick:()=>k.push("/onboarding/basics"),className:"text-sm text-zinc-500 hover:text-zinc-900 font-medium transition-colors",children:"Edit"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-zinc-500 uppercase mb-1",children:"Brand Name"}),(0,t.jsx)("p",{className:"text-sm font-medium text-zinc-900",children:S.brandName||"Not provided"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-zinc-500 uppercase mb-1",children:"Category"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[S.category&&(0,t.jsx)(s.A,{size:14,className:"text-zinc-400"}),(0,t.jsx)("p",{className:"text-sm font-medium text-zinc-900",children:S.category||"Not provided"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-zinc-500 uppercase mb-1",children:"Region"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(null===(e=S.region)||void 0===e?void 0:e.country)&&(0,t.jsx)("span",{className:"text-base",children:(null===(a=f.Ei.find(e=>e.country===S.region.country))||void 0===a?void 0:a.flag)||"\uD83C\uDF0D"}),(0,t.jsx)("p",{className:"text-sm font-medium text-zinc-900",children:(null===(n=S.region)||void 0===n?void 0:n.country)||"Not provided"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-zinc-500 uppercase mb-1",children:"Currency"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(null===(x=S.region)||void 0===x?void 0:x.currency)&&(0,t.jsx)("span",{className:"text-base font-serif text-zinc-400",children:(null===(v=f.Vf.find(e=>e.code===S.region.currency))||void 0===v?void 0:v.symbol)||"$"}),(0,t.jsx)("p",{className:"text-sm font-medium text-zinc-900",children:(null===(N=S.region)||void 0===N?void 0:N.currency)||"Not provided"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-zinc-500 uppercase mb-1",children:"Timezone"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{size:14,className:"text-zinc-400"}),(0,t.jsx)("p",{className:"text-sm font-medium text-zinc-900",children:(null===(A=S.region)||void 0===A?void 0:A.timezone)||"Not provided"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-zinc-200 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(u.A,{size:20,className:"text-zinc-600"}),(0,t.jsxs)("h2",{className:"text-lg font-semibold text-zinc-900",children:["Sales Channels",P.length>0&&(0,t.jsxs)("span",{className:"ml-2 text-sm font-normal text-zinc-500",children:["(",P.length," selected)"]})]})]}),(0,t.jsx)("button",{onClick:()=>k.push("/onboarding/channels"),className:"text-sm text-zinc-500 hover:text-zinc-900 font-medium transition-colors",children:"Edit"})]}),G(P)]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-zinc-200 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(m,{size:20,className:"text-zinc-600"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-zinc-900",children:"Tech Stack"})]}),(0,t.jsx)("button",{onClick:()=>k.push("/onboarding/stack"),className:"text-sm text-zinc-500 hover:text-zinc-900 font-medium transition-colors",children:"Edit"})]}),(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(D).map(e=>{let[a,n]=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-zinc-500 uppercase mb-2",children:a}),G(n)]},a)})})]})]}),(0,t.jsxs)("div",{className:"mt-12 text-center",children:[(0,t.jsx)("button",{onClick:B,disabled:w,className:"inline-flex items-center justify-center px-8 py-3 bg-zinc-900 text-white font-medium rounded-lg hover:bg-zinc-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Saving...":"Go to Dashboard →"}),(0,t.jsx)("p",{className:"mt-4 text-sm text-zinc-500",children:"You can always update these settings later"})]})]})})}},68019:(e,a,n)=>{"use strict";n.d(a,{Ei:()=>t,Vf:()=>r,_O:()=>o});let t=[{country:"India",code:"IN",currency:"INR",currencySymbol:"₹",timezone:"Asia/Kolkata",flag:"\uD83C\uDDEE\uD83C\uDDF3",dialCode:"+91"},{country:"United States",code:"US",currency:"USD",currencySymbol:"$",timezone:"America/New_York",flag:"\uD83C\uDDFA\uD83C\uDDF8",dialCode:"+1"},{country:"United Kingdom",code:"GB",currency:"GBP",currencySymbol:"\xa3",timezone:"Europe/London",flag:"\uD83C\uDDEC\uD83C\uDDE7",dialCode:"+44"},{country:"Canada",code:"CA",currency:"CAD",currencySymbol:"$",timezone:"America/Toronto",flag:"\uD83C\uDDE8\uD83C\uDDE6",dialCode:"+1"},{country:"Australia",code:"AU",currency:"AUD",currencySymbol:"$",timezone:"Australia/Sydney",flag:"\uD83C\uDDE6\uD83C\uDDFA",dialCode:"+61"},{country:"United Arab Emirates",code:"AE",currency:"AED",currencySymbol:"dh",timezone:"Asia/Dubai",flag:"\uD83C\uDDE6\uD83C\uDDEA",dialCode:"+971"},{country:"Singapore",code:"SG",currency:"SGD",currencySymbol:"$",timezone:"Asia/Singapore",flag:"\uD83C\uDDF8\uD83C\uDDEC",dialCode:"+65"},{country:"Germany",code:"DE",currency:"EUR",currencySymbol:"€",timezone:"Europe/Berlin",flag:"\uD83C\uDDE9\uD83C\uDDEA",dialCode:"+49"},{country:"France",code:"FR",currency:"EUR",currencySymbol:"€",timezone:"Europe/Paris",flag:"\uD83C\uDDEB\uD83C\uDDF7",dialCode:"+33"},{country:"Japan",code:"JP",currency:"JPY",currencySymbol:"\xa5",timezone:"Asia/Tokyo",flag:"\uD83C\uDDEF\uD83C\uDDF5",dialCode:"+81"},{country:"Brazil",code:"BR",currency:"BRL",currencySymbol:"R$",timezone:"America/Sao_Paulo",flag:"\uD83C\uDDE7\uD83C\uDDF7",dialCode:"+55"},{country:"Mexico",code:"MX",currency:"MXN",currencySymbol:"$",timezone:"America/Mexico_City",flag:"\uD83C\uDDF2\uD83C\uDDFD",dialCode:"+52"},{country:"China",code:"CN",currency:"CNY",currencySymbol:"\xa5",timezone:"Asia/Shanghai",flag:"\uD83C\uDDE8\uD83C\uDDF3",dialCode:"+86"},{country:"Netherlands",code:"NL",currency:"EUR",currencySymbol:"€",timezone:"Europe/Amsterdam",flag:"\uD83C\uDDF3\uD83C\uDDF1",dialCode:"+31"},{country:"Sweden",code:"SE",currency:"SEK",currencySymbol:"kr",timezone:"Europe/Stockholm",flag:"\uD83C\uDDF8\uD83C\uDDEA",dialCode:"+46"},{country:"Saudi Arabia",code:"SA",currency:"SAR",currencySymbol:"﷼",timezone:"Asia/Riyadh",flag:"\uD83C\uDDF8\uD83C\uDDE6",dialCode:"+966"},{country:"South Africa",code:"ZA",currency:"ZAR",currencySymbol:"R",timezone:"Africa/Johannesburg",flag:"\uD83C\uDDFF\uD83C\uDDE6",dialCode:"+27"},{country:"Indonesia",code:"ID",currency:"IDR",currencySymbol:"Rp",timezone:"Asia/Jakarta",flag:"\uD83C\uDDEE\uD83C\uDDE9",dialCode:"+62"},{country:"Vietnam",code:"VN",currency:"VND",currencySymbol:"₫",timezone:"Asia/Ho_Chi_Minh",flag:"\uD83C\uDDFB\uD83C\uDDF3",dialCode:"+84"},{country:"Thailand",code:"TH",currency:"THB",currencySymbol:"฿",timezone:"Asia/Bangkok",flag:"\uD83C\uDDF9\uD83C\uDDED",dialCode:"+66"},{country:"Bangladesh",code:"BD",currency:"BDT",currencySymbol:"৳",timezone:"Asia/Dhaka",flag:"\uD83C\uDDE7\uD83C\uDDE9",dialCode:"+880"},{country:"Pakistan",code:"PK",currency:"PKR",currencySymbol:"₨",timezone:"Asia/Karachi",flag:"\uD83C\uDDF5\uD83C\uDDF0",dialCode:"+92"},{country:"Sri Lanka",code:"LK",currency:"LKR",currencySymbol:"Rs",timezone:"Asia/Colombo",flag:"\uD83C\uDDF1\uD83C\uDDF0",dialCode:"+94"},{country:"Malaysia",code:"MY",currency:"MYR",currencySymbol:"RM",timezone:"Asia/Kuala_Lumpur",flag:"\uD83C\uDDF2\uD83C\uDDFE",dialCode:"+60"},{country:"Philippines",code:"PH",currency:"PHP",currencySymbol:"₱",timezone:"Asia/Manila",flag:"\uD83C\uDDF5\uD83C\uDDED",dialCode:"+63"},{country:"New Zealand",code:"NZ",currency:"NZD",currencySymbol:"$",timezone:"Pacific/Auckland",flag:"\uD83C\uDDF3\uD83C\uDDFF",dialCode:"+64"},{country:"Italy",code:"IT",currency:"EUR",currencySymbol:"€",timezone:"Europe/Rome",flag:"\uD83C\uDDEE\uD83C\uDDF9",dialCode:"+39"},{country:"Spain",code:"ES",currency:"EUR",currencySymbol:"€",timezone:"Europe/Madrid",flag:"\uD83C\uDDEA\uD83C\uDDF8",dialCode:"+34"},{country:"Switzerland",code:"CH",currency:"CHF",currencySymbol:"Fr",timezone:"Europe/Zurich",flag:"\uD83C\uDDE8\uD83C\uDDED",dialCode:"+41"},{country:"Ireland",code:"IE",currency:"EUR",currencySymbol:"€",timezone:"Europe/Dublin",flag:"\uD83C\uDDEE\uD83C\uDDEA",dialCode:"+353"},{country:"Norway",code:"NO",currency:"NOK",currencySymbol:"kr",timezone:"Europe/Oslo",flag:"\uD83C\uDDF3\uD83C\uDDF4",dialCode:"+47"},{country:"Denmark",code:"DK",currency:"DKK",currencySymbol:"kr",timezone:"Europe/Copenhagen",flag:"\uD83C\uDDE9\uD83C\uDDF0",dialCode:"+45"},{country:"Finland",code:"FI",currency:"EUR",currencySymbol:"€",timezone:"Europe/Helsinki",flag:"\uD83C\uDDEB\uD83C\uDDEE",dialCode:"+358"},{country:"Belgium",code:"BE",currency:"EUR",currencySymbol:"€",timezone:"Europe/Brussels",flag:"\uD83C\uDDE7\uD83C\uDDEA",dialCode:"+32"},{country:"Austria",code:"AT",currency:"EUR",currencySymbol:"€",timezone:"Europe/Vienna",flag:"\uD83C\uDDE6\uD83C\uDDF9",dialCode:"+43"},{country:"Poland",code:"PL",currency:"PLN",currencySymbol:"zł",timezone:"Europe/Warsaw",flag:"\uD83C\uDDF5\uD83C\uDDF1",dialCode:"+48"},{country:"Turkey",code:"TR",currency:"TRY",currencySymbol:"₺",timezone:"Europe/Istanbul",flag:"\uD83C\uDDF9\uD83C\uDDF7",dialCode:"+90"},{country:"Russia",code:"RU",currency:"RUB",currencySymbol:"₽",timezone:"Europe/Moscow",flag:"\uD83C\uDDF7\uD83C\uDDFA",dialCode:"+7"},{country:"South Korea",code:"KR",currency:"KRW",currencySymbol:"₩",timezone:"Asia/Seoul",flag:"\uD83C\uDDF0\uD83C\uDDF7",dialCode:"+82"}],r=[{code:"INR",symbol:"₹",name:"Indian Rupee"},{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"€",name:"Euro"},{code:"GBP",symbol:"\xa3",name:"British Pound"},{code:"CAD",symbol:"$",name:"Canadian Dollar"},{code:"AUD",symbol:"$",name:"Australian Dollar"},{code:"AED",symbol:"dh",name:"UAE Dirham"},{code:"SGD",symbol:"$",name:"Singapore Dollar"},{code:"JPY",symbol:"\xa5",name:"Japanese Yen"},{code:"CNY",symbol:"\xa5",name:"Chinese Yuan"},{code:"HKD",symbol:"$",name:"Hong Kong Dollar"},{code:"CHF",symbol:"Fr",name:"Swiss Franc"},{code:"SEK",symbol:"kr",name:"Swedish Krona"},{code:"NZD",symbol:"$",name:"New Zealand Dollar"},{code:"MXN",symbol:"$",name:"Mexican Peso"},{code:"BRL",symbol:"R$",name:"Brazilian Real"},{code:"ZAR",symbol:"R",name:"South African Rand"},{code:"RUB",symbol:"₽",name:"Russian Ruble"},{code:"TRY",symbol:"₺",name:"Turkish Lira"},{code:"SAR",symbol:"﷼",name:"Saudi Riyal"}],o=[{value:"Asia/Kolkata",label:"India Standard Time (GMT+5:30)"},{value:"America/New_York",label:"Eastern Time (GMT-4)"},{value:"America/Los_Angeles",label:"Pacific Time (GMT-7)"},{value:"Europe/London",label:"London (GMT+1)"},{value:"Europe/Paris",label:"Paris (GMT+2)"},{value:"Asia/Dubai",label:"Dubai (GMT+4)"},{value:"Asia/Singapore",label:"Singapore (GMT+8)"},{value:"Australia/Sydney",label:"Sydney (GMT+10)"},{value:"UTC",label:"UTC (GMT+0)"},{value:"America/Chicago",label:"Central Time (GMT-5)"},{value:"America/Denver",label:"Mountain Time (GMT-6)"},{value:"America/Phoenix",label:"Arizona (GMT-7)"},{value:"America/Anchorage",label:"Alaska (GMT-8)"},{value:"Pacific/Honolulu",label:"Hawaii (GMT-10)"},{value:"America/Sao_Paulo",label:"Brasilia (GMT-3)"},{value:"Europe/Berlin",label:"Berlin (GMT+2)"},{value:"Europe/Moscow",label:"Moscow (GMT+3)"},{value:"Asia/Tokyo",label:"Tokyo (GMT+9)"},{value:"Asia/Hong_Kong",label:"Hong Kong (GMT+8)"},{value:"Asia/Bangkok",label:"Bangkok (GMT+7)"},{value:"America/Toronto",label:"Eastern Time - Toronto (GMT-4)"},{value:"America/Mexico_City",label:"Mexico City (GMT-6)"},{value:"Asia/Shanghai",label:"China Standard Time (GMT+8)"},{value:"Europe/Amsterdam",label:"Amsterdam (GMT+2)"},{value:"Europe/Stockholm",label:"Stockholm (GMT+2)"},{value:"Asia/Riyadh",label:"Riyadh (GMT+3)"},{value:"Africa/Johannesburg",label:"Johannesburg (GMT+2)"},{value:"Asia/Jakarta",label:"Jakarta (GMT+7)"},{value:"Asia/Ho_Chi_Minh",label:"Ho Chi Minh (GMT+7)"},{value:"Asia/Dhaka",label:"Dhaka (GMT+6)"},{value:"Asia/Karachi",label:"Karachi (GMT+5)"},{value:"Asia/Colombo",label:"Colombo (GMT+5:30)"},{value:"Asia/Kuala_Lumpur",label:"Kuala Lumpur (GMT+8)"},{value:"Asia/Manila",label:"Manila (GMT+8)"},{value:"Pacific/Auckland",label:"Auckland (GMT+12)"},{value:"Europe/Rome",label:"Rome (GMT+2)"},{value:"Europe/Madrid",label:"Madrid (GMT+2)"},{value:"Europe/Zurich",label:"Zurich (GMT+2)"},{value:"Europe/Dublin",label:"Dublin (GMT+1)"},{value:"Europe/Oslo",label:"Oslo (GMT+2)"},{value:"Europe/Copenhagen",label:"Copenhagen (GMT+2)"},{value:"Europe/Helsinki",label:"Helsinki (GMT+3)"},{value:"Europe/Brussels",label:"Brussels (GMT+2)"},{value:"Europe/Vienna",label:"Vienna (GMT+2)"},{value:"Europe/Warsaw",label:"Warsaw (GMT+2)"},{value:"Europe/Istanbul",label:"Istanbul (GMT+3)"},{value:"Asia/Seoul",label:"Seoul (GMT+9)"},{value:"Europe/Kiev",label:"Kiev (GMT+3)"}]},70071:(e,a,n)=>{"use strict";n.d(a,{o:()=>r});var t=n(12115);function r(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,[n,r]=(0,t.useState)(e);return(0,t.useEffect)(()=>{let n=setTimeout(()=>{r(e)},a);return()=>{clearTimeout(n)}},[e,a]),n}},25739:(e,a,n)=>{"use strict";n.d(a,{F:()=>c});var t=n(89664),r=n(2818);let o=r.env.NEXT_PUBLIC_API_URL?"".concat(r.env.NEXT_PUBLIC_API_URL,"/api/v1"):"/api/v1";class i extends Error{constructor(e,a,n){super(e),this.name="ApiError",this.status=a,this.data=n}}let c={async request(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.auth.currentUser,r=n?await n.getIdToken():null,c=localStorage.getItem("unclutr_company_id"),l={"Content-Type":"application/json",...r?{Authorization:"Bearer ".concat(r)}:{},...c?{"X-Company-ID":c}:{},...a.headers||{}};c||e.startsWith("/execution");let s="".concat(o).concat(e),d=await fetch(s,{...a,cache:"no-store",headers:l});if(!d.ok){let e=await d.json().catch(()=>({detail:"Unknown error"}));throw new i(e.detail||d.statusText,d.status,e)}return d.json()},get(e,a){return this.request(e,{method:"GET",headers:a})},post(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this.request(e,{method:"POST",body:JSON.stringify(a),headers:n})},patch(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this.request(e,{method:"PATCH",body:JSON.stringify(a),headers:n})},put(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this.request(e,{method:"PUT",body:JSON.stringify(a),headers:n})},delete(e,a){return this.request(e,{method:"DELETE",headers:a})}}},67401:(e,a,n)=>{"use strict";n.d(a,{A:()=>u});var t=n(12115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,n)=>n?n.toUpperCase():a.toLowerCase()),i=e=>{let a=o(e);return a.charAt(0).toUpperCase()+a.slice(1)},c=function(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];return a.filter((e,a,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===a).join(" ").trim()},l=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,t.forwardRef)((e,a)=>{let{color:n="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:d="",children:u,iconNode:m,...y}=e;return(0,t.createElement)("svg",{ref:a,...s,width:r,height:r,stroke:n,strokeWidth:i?24*Number(o)/Number(r):o,className:c("lucide",d),...!u&&!l(y)&&{"aria-hidden":"true"},...y},[...m.map(e=>{let[a,n]=e;return(0,t.createElement)(a,n)}),...Array.isArray(u)?u:[u]])}),u=(e,a)=>{let n=(0,t.forwardRef)((n,o)=>{let{className:l,...s}=n;return(0,t.createElement)(d,{ref:o,iconNode:a,className:c("lucide-".concat(r(i(e))),"lucide-".concat(e),l),...s})});return n.displayName=i(e),n}},9110:(e,a,n)=>{"use strict";n.d(a,{A:()=>t});let t=(0,n(67401).A)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])},26336:(e,a,n)=>{"use strict";n.d(a,{A:()=>t});let t=(0,n(67401).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},66889:(e,a,n)=>{"use strict";n.d(a,{A:()=>t});let t=(0,n(67401).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},23817:(e,a,n)=>{"use strict";n.d(a,{A:()=>t});let t=(0,n(67401).A)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},79486:(e,a,n)=>{"use strict";n.d(a,{A:()=>t});let t=(0,n(67401).A)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]])},45471:(e,a,n)=>{"use strict";n.d(a,{A:()=>t});let t=(0,n(67401).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},14366:(e,a,n)=>{"use strict";n.d(a,{X:()=>m,z:()=>y});var t=n(95155),r=n(12115),o=n(25739),i=n(41082),c=n(35901),l=n(76046),s=n(70071);let d={companyName:"",brandName:"",category:"",region:{country:"",currency:"",timezone:""},channels:{d2c:[],marketplaces:[],qcom:[],others:[]},primaryPartners:{marketplaces:[],qcom:[]},stack:{orders:[],payments:[],shipping:[],payouts:[],marketing:[],analytics:[],finance:[]},integrationRequestsDraft:[]},u=(0,r.createContext)(void 0);function m(e){let{children:a}=e,[n,m]=(0,r.useState)(d),[y,h]=(0,r.useState)(!1),[g,b]=(0,r.useState)(null),p=(0,s.o)(n,1e3),f=(0,r.useRef)(!0),x=(0,r.useRef)(JSON.stringify(d));(0,r.useEffect)(()=>{if(f.current){f.current=!1;return}let e=JSON.stringify(p);e!==x.current&&(k(void 0,!0).catch(e=>console.warn("Auto-save failed",e)),x.current=e)},[p]);let{user:v,skipOnboardingSession:N}=(0,c.A)(),A=(0,l.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("unclutr_onboarding_draft");if(e)try{let a=JSON.parse(e);m(e=>({...e,...a,region:a.region||e.region}))}catch(e){console.error("Failed to parse saved onboarding state",e)}(async()=>{if(v)try{let s=await o.F.get("/onboarding/state");if(s){if(console.log("DEBUG: Backend Raw Response:",s),s.basics_data&&(s.basics_data.companyName||s.basics_data.brandName)||s.is_completed){var e,a,n,t,r,i,c,l;let o={companyName:(null===(e=s.basics_data)||void 0===e?void 0:e.companyName)||"",brandName:(null===(a=s.basics_data)||void 0===a?void 0:a.brandName)||"",category:(null===(n=s.basics_data)||void 0===n?void 0:n.category)||"",region:(null===(t=s.basics_data)||void 0===t?void 0:t.region)||d.region,channels:(null===(r=s.channels_data)||void 0===r?void 0:r.channels)||s.channels_data||d.channels,primaryPartners:(null===(i=s.channels_data)||void 0===i?void 0:i.primaryPartners)||d.primaryPartners,stack:(null===(c=s.stack_data)||void 0===c?void 0:c.stack)||s.stack_data||d.stack,integrationRequestsDraft:(null===(l=s.finish_data)||void 0===l?void 0:l.integrationRequestsDraft)||[]};m(e=>({...e,...o})),console.log("Hydrated from backend:",o)}else console.log("Backend state is empty, keeping local draft.")}}catch(e){console.warn("No existing onboarding state found or fetch failed",e)}})()},[v]);let k=async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a||h(!0),h(!0);try{let a=window.location.pathname,t=e||"basics";if(!e&&(a.includes("/channels")?t="channels":a.includes("/stack")?t="stack":a.includes("/finish")&&(t="finish")),console.log("Saving to backend...",{page:t,state:n}),!["basics","channels","stack","finish"].includes(t)){console.warn("Attempting to save on invalid page:",t),h(!1);return}let r={};"basics"===t?r={companyName:n.companyName,brandName:n.brandName,category:n.category,region:n.region}:"channels"===t?r={selectedChannels:[...n.channels.d2c||[],...n.channels.marketplaces||[],...n.channels.qcom||[],...n.channels.others||[]],channels:n.channels,primaryPartners:n.primaryPartners}:"stack"===t&&(r={selectedTools:[...n.stack.orders||[],...n.stack.payments||[],...n.stack.shipping||[],...n.stack.payouts||[],...n.stack.marketing||[],...n.stack.analytics||[],...n.stack.finance||[]],stack:n.stack}),await i.S.onboarding.saveProgressApiV1OnboardingSavePost({requestBody:{page:t,data:r}}),b(new Date),h(!1)}catch(e){throw console.error("Failed to save state:",e),h(!1),e}},S=async()=>{try{await k(),N(),A.push("/dashboard")}catch(e){alert("Failed to save progress. Please check connection.")}};return(0,t.jsx)(u.Provider,{value:{state:n,updateState:e=>{m(a=>{let n={...a,...e};return localStorage.setItem("unclutr_onboarding_draft",JSON.stringify(n)),n})},updateChannels:e=>{m(a=>{let n={...a,channels:{...a.channels,...e}};return localStorage.setItem("unclutr_onboarding_draft",JSON.stringify(n)),n})},updatePrimaryPartners:e=>{m(a=>{let n={...a,primaryPartners:{...a.primaryPartners,...e}};return localStorage.setItem("unclutr_onboarding_draft",JSON.stringify(n)),n})},updateStack:e=>{m(a=>{let n={...a,stack:{...a.stack,...e}};return localStorage.setItem("unclutr_onboarding_draft",JSON.stringify(n)),n})},addIntegrationRequest:(e,a)=>{m(n=>{let t={...n,integrationRequestsDraft:[...n.integrationRequestsDraft,{term:e,context:a}]};return localStorage.setItem("unclutr_onboarding_draft",JSON.stringify(t)),t})},saveAndExit:S,saveCurrentPage:k,isSaving:y,lastSavedAt:g},children:a})}function y(){let e=(0,r.useContext)(u);if(void 0===e)throw Error("useOnboarding must be used within an OnboardingProvider");return e}},18244:(e,a,n)=>{"use strict";function t(e,a,n){if(!a.has(e))throw TypeError("attempted to "+n+" private field on non-instance");return a.get(e)}n.d(a,{_:()=>t})},95359:(e,a,n)=>{"use strict";n.d(a,{_:()=>r});var t=n(18244);function r(e,a){var n=(0,t._)(e,a,"get");return n.get?n.get.call(e):n.value}},50587:(e,a,n)=>{"use strict";function t(e,a,n){!function(e,a){if(a.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,a),a.set(e,n)}n.d(a,{_:()=>t})},75465:(e,a,n)=>{"use strict";n.d(a,{_:()=>r});var t=n(18244);function r(e,a,n){var r=(0,t._)(e,a,"set");return!function(e,a,n){if(a.set)a.set.call(e,n);else{if(!a.writable)throw TypeError("attempted to set read only private field");a.value=n}}(e,r,n),n}}},e=>{var a=a=>e(e.s=a);e.O(0,[5563,1431,814,5714,5901,1082,8441,1517,7358],()=>a(20180)),_N_E=e.O()}]);