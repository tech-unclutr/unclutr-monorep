(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97594,e=>{"use strict";e.s(["d2cCategories",0,["QSR (Quick Service Restaurants)","Cafes & Bakeries","Fine Dining","Cloud Kitchens","Food Delivery","Fashion & Apparel","Beauty & Personal Care","Health & Wellness","Home & Living","Electronics & Gadgets","Jewelry & Accessories","Kids & Baby Products","Sports & Fitness","Pet Care","Footwear","Eyewear","Furniture","Toys & Games","Automotive Accessories","Luxury & Premium Goods","Consumer Apps (SaaS)","B2B Enterprise SaaS","Developer Tools & Infrastructure","AI & Machine Learning","Cybersecurity","MarTech & AdTech","HR Tech","FinTech & InsurTech","Banking & NBFCs","Insurance","Payments & Wallets","Crypto & Web3","K-12 & Schools","Universities & Higher Education","Professional Upskilling & Training","Marketing & Advertising Agencies","Management Consulting","Legal & Accounting Services","HR & Recruitment","Real Estate & PropTech","Logistics & Supply Chain","Home Services & Hyperlocal","Clinics & Hospitals","Diagnostics & Labs","E-pharmacy","Mental Health & Wellness","OTT & Streaming","Gaming & E-sports","News & Digital Media","Music & Audio","Hotels & Resorts","Airlines & Transport","Travel Agencies & Platforms","Manufacturing","Agriculture & AgriTech","Non-Profit & NGO","Government & Public Sector","Other"]])},48256,e=>{"use strict";let t=(0,e.i(75254).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],48256)},9558,29456,48857,3291,71946,e=>{"use strict";let t;var r,a=e.i(47167),i=e.i(71645),n=e.i(46696),s=e.i(76009),l=e.i(38938);let c=a.default.env.NEXT_PUBLIC_API_URL||"http://localhost:8000";function o(){let[e,t]=(0,i.useState)(null),[r,a]=(0,i.useState)(!0),[o,d]=(0,i.useState)(null),{onboardingCompleted:x}=(0,l.useAuth)(),h=(0,i.useCallback)(async()=>{try{a(!0);let e=s.auth.currentUser;if(!1===x){console.log("useCompany: Skipping fetch because onboarding is not completed"),a(!1);return}let r=await e?.getIdToken();if(!r){console.log("useCompany: No token found for user"),a(!1);return}console.log("useCompany: Fetching with token length:",r.length);let i=await fetch(`${c}/api/v1/company/me`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!i.ok){if(404===i.status)return void t(null);throw Error("Failed to fetch company data")}let n=await i.json();t(n)}catch(e){console.error(e),d(e.message)}finally{a(!1)}},[]);(0,i.useEffect)(()=>{let e=s.auth.onAuthStateChanged(e=>{e?h():a(!1)});return()=>e()},[h]);let u=async r=>{e&&t({...e,...r});try{let e=s.auth.currentUser,a=await e?.getIdToken();if(!a)throw Error("Not authenticated");let i=await fetch(`${c}/api/v1/company/me`,{method:"PATCH",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok)throw Error("Failed to update settings");let l=await i.json();return t(l),n.toast.success("Settings Updated",{description:"Your changes have been saved successfully."}),l}catch(r){throw t(e),n.toast.error("Update failed",{description:r.message||"We couldn't save your settings. Try again?"}),r}};return{company:e,loading:r,error:o,updateCompany:u,refresh:h}}e.s(["useCompany",()=>o],9558);var d=e.i(43476),x=e.i(67881),h=e.i(23750),u=e.i(94179),m=e.i(88699),g=e.i(37727),p=e.i(47170),b=e.i(97594);function z({data:e,onUpdate:t}){let[r,a]=(0,i.useState)(!1),[n,s]=(0,i.useState)(e),[l,c]=(0,i.useState)(!1),[o,z]=(0,i.useState)(""),f=(0,i.useRef)(null);(0,i.useEffect)(()=>{s(e)},[e]);let k=()=>{o.trim()&&(s(e=>({...e,tags:[...e.tags,o.trim()]})),z("")),c(!1)},v=e=>{s(t=>({...t,tags:t.tags.filter(t=>t!==e)}))};return(0,i.useEffect)(()=>{l&&f.current&&f.current.focus()},[l]),(0,d.jsxs)("div",{className:"p-8 rounded-2xl border border-zinc-200/60 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 backdrop-blur-xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.05)] transition-all duration-300 hover:shadow-[0_8px_30px_-12px_rgba(0,0,0,0.1)] hover:border-zinc-300/80 dark:hover:border-zinc-700 group",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-8",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("h3",{className:"text-xl font-bold tracking-tight text-zinc-900 dark:text-zinc-50",children:"Brand Basics"}),(0,d.jsx)("p",{className:"text-base text-zinc-500 dark:text-zinc-400 max-w-xl",children:"Set your public brand profile and industry benchmarking."})]}),r?(0,d.jsxs)("div",{className:"flex gap-2 shrink-0",children:[(0,d.jsx)(x.Button,{variant:"ghost",size:"sm",onClick:()=>{a(!1),s(e),c(!1),z("")},className:"rounded-lg text-zinc-500 hover:text-zinc-900",children:"Cancel"}),(0,d.jsx)(x.Button,{size:"sm",onClick:()=>{a(!1),t({brand_name:n.brand_name,legal_name:n.legal_name,founded_year:n.founded_year,industry:n.industry,tags:n.tags})},className:"rounded-lg bg-zinc-900 text-white hover:bg-zinc-800 shadow-sm",children:"Save Changes"})]}):(0,d.jsxs)(x.Button,{variant:"ghost",size:"sm",onClick:()=>{s(e),a(!0)},className:"rounded-lg text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-all opacity-0 group-hover:opacity-100",children:[(0,d.jsx)(m.Pencil,{className:"w-4 h-4 mr-2"})," Edit"]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-10 gap-x-12 mb-10",children:[(0,d.jsxs)("div",{className:"space-y-3 group/field",children:[(0,d.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wider text-zinc-500 dark:text-zinc-500 transition-colors group-hover/field:text-zinc-800 dark:group-hover/field:text-zinc-300",children:"Brand Name"}),r?(0,d.jsx)(h.Input,{value:n.brand_name,onChange:e=>s({...n,brand_name:e.target.value}),className:"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 focus:border-zinc-900 dark:focus:border-zinc-100 focus:ring-zinc-900/10 transition-all font-medium text-zinc-900 dark:text-zinc-100 rounded-xl h-11",placeholder:"Brand Name"}):(0,d.jsx)("p",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-100",children:e.brand_name})]}),(0,d.jsxs)("div",{className:"space-y-3 group/field",children:[(0,d.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wider text-zinc-500 dark:text-zinc-500 transition-colors group-hover/field:text-zinc-800 dark:group-hover/field:text-zinc-300",children:"Legal Name"}),r?(0,d.jsx)(h.Input,{value:n.legal_name||"",onChange:e=>s({...n,legal_name:e.target.value}),className:"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 focus:border-zinc-900 dark:focus:border-zinc-100 focus:ring-zinc-900/10 transition-all text-zinc-900 dark:text-zinc-100 rounded-xl h-11",placeholder:"Legal Entity Name"}):(0,d.jsx)("p",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-100",children:e.legal_name||(0,d.jsx)("span",{className:"text-zinc-400 italic font-normal",children:"Not set"})})]}),(0,d.jsxs)("div",{className:"space-y-3 group/field",children:[(0,d.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wider text-zinc-500 dark:text-zinc-500 transition-colors group-hover/field:text-zinc-800 dark:group-hover/field:text-zinc-300",children:"Founded Year"}),r?(0,d.jsx)(h.Input,{value:n.founded_year||"",onChange:e=>s({...n,founded_year:e.target.value}),className:"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 focus:border-zinc-900 dark:focus:border-zinc-100 focus:ring-zinc-900/10 transition-all text-zinc-900 dark:text-zinc-100 rounded-xl h-11",placeholder:"YYYY",maxLength:4}):(0,d.jsx)("p",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-100",children:e.founded_year||(0,d.jsx)("span",{className:"text-zinc-400 italic font-normal",children:"Not set"})})]}),(0,d.jsxs)("div",{className:"space-y-3 group/field relative",children:[(0,d.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wider text-zinc-500 dark:text-zinc-500 transition-colors group-hover/field:text-zinc-800 dark:group-hover/field:text-zinc-300",children:"Primary Category"}),r?(0,d.jsx)(p.SearchableSelect,{value:n.industry||"",options:b.d2cCategories.map(e=>({label:e,value:e})),onChange:e=>s({...n,industry:e}),placeholder:"Select category...",className:"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 focus:border-zinc-900 dark:focus:border-zinc-100 rounded-xl h-11"}):(0,d.jsx)("p",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-100",children:e.industry||(0,d.jsx)("span",{className:"text-zinc-400 italic font-normal",children:"Not set"})})]})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-4 pt-8 border-t border-zinc-100 dark:border-zinc-800/50",children:[(0,d.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wider text-zinc-500 dark:text-zinc-500",children:"Tags"}),r?(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 p-3 min-h-[52px] rounded-xl bg-zinc-50/50 dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 focus-within:bg-white dark:focus-within:bg-zinc-900 focus-within:border-zinc-300 dark:focus-within:border-zinc-700 focus-within:ring-2 focus-within:ring-zinc-900/5 cursor-text transition-all",onClick:()=>f.current?.focus(),children:[(n.tags||[]).map(e=>(0,d.jsxs)(u.Badge,{variant:"secondary",className:"px-2.5 py-1.5 font-medium bg-white dark:bg-zinc-800 text-zinc-700 dark:text-zinc-200 border border-zinc-200 dark:border-zinc-700 flex items-center gap-1.5 shadow-sm rounded-lg",children:[e,(0,d.jsx)("button",{onClick:t=>{t.stopPropagation(),v(e)},className:"text-zinc-400 hover:text-red-500 focus:outline-none transition-colors",children:(0,d.jsx)(g.X,{size:14})})]},e)),(0,d.jsx)("input",{ref:f,value:o,onChange:e=>z(e.target.value),onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),k()):"Backspace"===e.key&&""===o&&(n.tags||[]).length>0&&v((n.tags||[])[(n.tags||[]).length-1])},onBlur:k,className:"flex-1 min-w-[120px] bg-transparent border-none outline-none text-sm font-medium text-zinc-900 dark:text-zinc-100 placeholder:text-zinc-400",placeholder:0===(n.tags||[]).length?"Add tags...":""})]}):(0,d.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.tags&&e.tags.map(e=>(0,d.jsx)(u.Badge,{variant:"secondary",className:"px-3 py-1.5 font-medium bg-zinc-100/80 text-zinc-700 border border-zinc-200 dark:bg-zinc-800/80 dark:text-zinc-200 dark:border-zinc-700 rounded-md",children:e},e)),(!e.tags||0===e.tags.length)&&(0,d.jsx)("span",{className:"text-zinc-400 italic text-sm",children:"No tags added"})]})]})]})}e.s(["BrandBasics",()=>z],29456);var f=e.i(48256),k=e.i(75254);let v=(0,k.default)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),N=(0,k.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var y=e.i(27612),j=e.i(43531);let w="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C=new Uint8Array(16),_=[];for(let e=0;e<256;++e)_.push((e+256).toString(16).slice(1));let S=function(e,r,a){if(w&&!r&&!e)return w();let i=(e=e||{}).random||(e.rng||function(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(C)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,r){a=a||0;for(let e=0;e<16;++e)r[a+e]=i[e];return r}return function(e,t=0){return _[e[t+0]]+_[e[t+1]]+_[e[t+2]]+_[e[t+3]]+"-"+_[e[t+4]]+_[e[t+5]]+"-"+_[e[t+6]]+_[e[t+7]]+"-"+_[e[t+8]]+_[e[t+9]]+"-"+_[e[t+10]]+_[e[t+11]]+_[e[t+12]]+_[e[t+13]]+_[e[t+14]]+_[e[t+15]]}(i)};function A({data:e,onUpdate:t}){let[r,a]=(0,i.useState)(!1),[n,s]=(0,i.useState)(e);return(0,d.jsxs)("div",{className:"p-8 rounded-2xl border border-zinc-200/60 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 backdrop-blur-xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.05)] transition-all duration-300 hover:shadow-[0_8px_30px_-12px_rgba(0,0,0,0.1)] hover:border-zinc-300/80 dark:hover:border-zinc-700 group",children:[(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4 flex-wrap",children:[(0,d.jsxs)("div",{className:"flex-1 mr-2 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("h3",{className:"text-xl font-bold tracking-tight text-zinc-900 dark:text-zinc-50 whitespace-nowrap",children:"Presence Links"}),(0,d.jsx)(u.Badge,{variant:"secondary",className:"font-medium text-[10px] tracking-wide uppercase bg-zinc-100 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400 border border-transparent transition-all h-5 px-1.5 rounded-md",children:"Optional"})]}),(0,d.jsx)("p",{className:"text-base text-zinc-500 dark:text-zinc-400 mt-1",children:"Connect your digital accounts for unified tracking."})]}),r?(0,d.jsxs)("div",{className:"flex gap-2 shrink-0 items-center",children:[(0,d.jsxs)(x.Button,{variant:"ghost",size:"sm",onClick:()=>{a(!1),s(e)},className:"rounded-lg text-zinc-500 hover:text-zinc-900 hover:bg-zinc-100 dark:text-zinc-400 dark:hover:text-zinc-100 dark:hover:bg-zinc-800",children:[(0,d.jsx)(g.X,{className:"w-4 h-4 mr-2"}),"Cancel"]}),(0,d.jsxs)(x.Button,{size:"sm",onClick:()=>{a(!1),t(n)},className:"min-w-[80px] rounded-lg bg-zinc-900 text-white hover:bg-zinc-800 shadow-sm",children:[(0,d.jsx)(j.Check,{className:"w-4 h-4 mr-2"}),"Save"]})]}):(0,d.jsxs)(x.Button,{variant:"ghost",size:"sm",onClick:()=>{s(e),a(!0)},className:"rounded-lg text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-all opacity-0 group-hover:opacity-100 my-0 shrink-0",children:[(0,d.jsx)(m.Pencil,{className:"w-3.5 h-3.5 mr-2"})," Edit"]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[0===n.length&&!r&&(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl space-y-3 bg-zinc-50/50 dark:bg-zinc-900/50",children:[(0,d.jsx)("div",{className:"p-3 bg-white dark:bg-zinc-800 rounded-full shadow-sm",children:(0,d.jsx)(f.Globe,{className:"w-5 h-5 text-zinc-400 dark:text-zinc-500"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-300",children:"No links added"}),(0,d.jsx)("p",{className:"text-xs text-zinc-400 max-w-[200px] mt-1",children:"Add your website, Instagram, and other profiles."})]})]}),n.map((e,t)=>(0,d.jsxs)("div",{className:"flex items-center gap-4 group/item py-2",children:[(0,d.jsx)("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-800/50 rounded-xl border border-zinc-100 dark:border-zinc-800 group-hover/item:border-zinc-200 dark:group-hover/item:border-zinc-700 transition-colors shrink-0",children:(e=>{switch(e){case"website":return(0,d.jsx)(f.Globe,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200 transition-colors"});case"instagram":return(0,d.jsx)(v,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors"});case"amazon":return(0,d.jsx)("div",{className:"w-5 h-5 flex items-center justify-center font-bold text-gray-500 dark:text-gray-400 text-xs",children:"A"});case"nykaa":return(0,d.jsx)("div",{className:"w-5 h-5 flex items-center justify-center font-bold text-gray-500 dark:text-gray-400 text-xs",children:"N"});default:return(0,d.jsx)(N,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 group-hover:text-blue-500 transition-colors"})}})(e.type)}),r?(0,d.jsxs)("div",{className:"flex-1 flex flex-col sm:flex-row gap-3 items-center",children:[(0,d.jsx)(h.Input,{value:e.label,onChange:e=>{let r=[...n];r[t].label=e.target.value,s(r)},className:"sm:w-1/3 h-11 bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 focus:border-zinc-900 rounded-xl font-medium text-zinc-900",placeholder:"Label"}),(0,d.jsxs)("div",{className:"flex-1 flex gap-2 w-full",children:[(0,d.jsx)(h.Input,{value:e.url,onChange:e=>{let r=[...n];r[t].url=e.target.value,e.target.value.includes("instagram.com")?r[t].type="instagram":e.target.value.includes("amazon")?r[t].type="amazon":e.target.value.includes("nykaa")?r[t].type="nykaa":r[t].type="website",s(r)},className:"flex-1 h-11 bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 focus:border-zinc-900 rounded-xl text-sm text-zinc-600",placeholder:"https://example.com/profile"}),(0,d.jsx)(x.Button,{variant:"ghost",size:"icon",className:"h-11 w-11 rounded-xl text-zinc-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors shrink-0",onClick:()=>{var t;return t=e.id,void s(n.filter(e=>e.id!==t))},children:(0,d.jsx)(y.Trash2,{className:"w-4 h-4"})})]})]}):(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-base font-medium text-zinc-900 dark:text-zinc-200 truncate",children:e.label||"Untitled"}),(0,d.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-500 truncate mt-0.5 font-mono",children:e.url||"No URL"})]})]},e.id)),r&&(0,d.jsx)(x.Button,{variant:"outline",onClick:()=>{s([...n,{id:S(),label:"",url:"",type:"other"}])},className:"w-full border-dashed border-zinc-200 dark:border-zinc-800 text-zinc-500 dark:text-zinc-400 hover:bg-zinc-50 dark:hover:bg-zinc-900 hover:text-zinc-900 dark:hover:text-zinc-200 h-12 rounded-xl mt-4 transition-all",children:"+ Add Another Link"})]})]})}e.s(["PresenceLinks",()=>A],48857);var T=e.i(7145),E=e.i(43432),D=e.i(63327);e.i(51718);var P=e.i(18357),B=e.i(54858),R=e.i(47163);function I({workspaceName:e}){let{user:t,dbUser:r,role:a,refreshAuth:s}=(0,D.useAuth)(),[l,c]=(0,i.useState)(!1),[o,u]=(0,i.useState)(r?.full_name||t?.displayName||""),[g,p]=(0,i.useState)(r?.designation||""),[b,z]=(0,i.useState)(r?.team||""),[f,k]=(0,i.useState)(r?.contact_number||""),[v,N]=(0,i.useState)(r?.linkedin_profile||"");(0,i.useEffect)(()=>{r?.full_name?(u(r.full_name),p(r.designation||""),z(r.team||""),k(r.contact_number||""),N(r.linkedin_profile||"")):t?.displayName&&u(t.displayName)},[r,t?.displayName]);let y=async()=>{if(t)try{t.displayName!==o&&await (0,P.updateProfile)(t,{displayName:o}),await B.api.patch("/users/me",{full_name:o,designation:g,team:b,contact_number:f,linkedin_profile:v}),await s(),n.toast.success("Profile Updated",{description:"Looking good! Your changes are saved."}),c(!1)}catch(e){console.error("Failed to update profile",e),n.toast.error("Changes didn't stick",{description:e.message||"We couldn't save your profile updates. Try again?"})}};return t?(0,d.jsxs)("div",{className:"p-10 rounded-3xl border border-zinc-200/60 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 backdrop-blur-xl shadow-[0_2px_15px_-5px_rgba(0,0,0,0.05)] transition-all duration-300 hover:shadow-[0_12px_40px_-15px_rgba(0,0,0,0.1)] hover:border-zinc-300 dark:hover:border-zinc-700 group relative",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-10",children:[(0,d.jsxs)("div",{className:"space-y-1.5",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold tracking-tight text-zinc-900 dark:text-zinc-50",children:"Profile Details"}),(0,d.jsx)("p",{className:"text-base text-zinc-500 dark:text-zinc-400 max-w-xl leading-relaxed",children:"Your personal details and workspace access role."})]}),l?(0,d.jsxs)("div",{className:"flex gap-2.5 shrink-0",children:[(0,d.jsx)(x.Button,{variant:"ghost",size:"sm",onClick:()=>c(!1),className:"rounded-xl h-10 px-5 text-zinc-500 hover:text-zinc-900 hover:bg-zinc-100 dark:hover:bg-zinc-800",children:"Cancel"}),(0,d.jsx)(x.Button,{size:"sm",onClick:y,className:"rounded-xl h-10 px-6 bg-zinc-900 text-white hover:bg-zinc-800 dark:bg-zinc-100 dark:text-zinc-900 dark:hover:bg-zinc-200 shadow-sm font-semibold",children:"Save"})]}):(0,d.jsxs)(x.Button,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"rounded-xl h-10 px-5 text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-all opacity-0 group-hover:opacity-100 border border-transparent hover:border-zinc-200 dark:hover:border-zinc-700",children:[(0,d.jsx)(m.Pencil,{className:"w-4 h-4 mr-2"})," Edit Details"]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-y-12 gap-x-12",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-3 group/field",children:[(0,d.jsx)("label",{className:"text-[10px] font-bold tracking-[0.1em] uppercase text-zinc-400 dark:text-zinc-500 transition-colors group-hover/field:text-zinc-800 dark:group-hover/field:text-zinc-300",children:"Full Name"}),l?(0,d.jsx)(h.Input,{value:o,onChange:e=>u(e.target.value),className:"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 focus:border-zinc-900 dark:focus:border-zinc-100 focus:ring-zinc-900/10 transition-all text-zinc-900 dark:text-zinc-100 rounded-xl h-12 text-base"}):(0,d.jsx)("p",{className:"text-xl font-semibold text-zinc-950 dark:text-zinc-50 min-h-[28px]",children:o||"No Name Set"})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-3 group/field",children:[(0,d.jsx)("label",{className:"text-[10px] font-bold tracking-[0.1em] uppercase text-zinc-400 dark:text-zinc-500 transition-colors group-hover/field:text-zinc-800 dark:group-hover/field:text-zinc-300",children:"Designation"}),l?(0,d.jsx)(h.Input,{value:g,onChange:e=>p(e.target.value),placeholder:"e.g. Senior Developer",className:"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 focus:border-zinc-900 dark:focus:border-zinc-100 focus:ring-zinc-900/10 transition-all text-zinc-900 dark:text-zinc-100 rounded-xl h-12 text-base"}):(0,d.jsx)("p",{className:"text-xl font-semibold text-zinc-950 dark:text-zinc-50 min-h-[28px]",children:g||(0,d.jsx)("span",{className:"text-zinc-400 font-normal italic",children:"Not Set"})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-3 group/field",children:[(0,d.jsx)("label",{className:"text-[10px] font-bold tracking-[0.1em] uppercase text-zinc-400 dark:text-zinc-500 transition-colors group-hover/field:text-zinc-800 dark:group-hover/field:text-zinc-300",children:"Team / Department"}),l?(0,d.jsx)(h.Input,{value:b,onChange:e=>z(e.target.value),placeholder:"e.g. Engineering",className:"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 focus:border-zinc-900 dark:focus:border-zinc-100 focus:ring-zinc-900/10 transition-all text-zinc-900 dark:text-zinc-100 rounded-xl h-12 text-base"}):(0,d.jsx)("p",{className:"text-xl font-semibold text-zinc-950 dark:text-zinc-50 min-h-[28px]",children:b||(0,d.jsx)("span",{className:"text-zinc-400 font-normal italic",children:"Not Set"})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-3 group/field",children:[(0,d.jsx)("label",{className:"text-[10px] font-bold tracking-[0.1em] uppercase text-zinc-400 dark:text-zinc-500 transition-colors group-hover/field:text-zinc-800 dark:group-hover/field:text-zinc-300",children:"Contact Number"}),l?(0,d.jsx)(T.PhoneInput,{value:f,onChange:k,placeholder:"12345 67890",className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 focus-within:border-zinc-900 dark:focus-within:border-zinc-100 focus-within:ring-zinc-900/10 transition-all text-zinc-900 dark:text-zinc-100 rounded-xl h-12 text-base"}):(0,d.jsx)("div",{className:"pt-0.5",children:f?(0,d.jsxs)("a",{href:`tel:${f.replace(/\s+/g,"")}`,className:"text-xl text-zinc-950 dark:text-zinc-50 hover:text-zinc-600 dark:hover:text-zinc-300 min-h-[28px] font-semibold flex items-center gap-2.5 transition-colors",title:f,children:[(0,d.jsx)(E.Phone,{className:"w-5 h-5 text-zinc-400 dark:text-zinc-500 shrink-0"}),(0,d.jsx)("span",{children:(0,R.formatPhoneNumber)(f)})]}):(0,d.jsx)("p",{className:"text-xl font-semibold text-zinc-950 dark:text-zinc-50 min-h-[28px]",children:(0,d.jsx)("span",{className:"text-zinc-400 font-normal italic",children:"Not Set"})})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-3 group/field",children:[(0,d.jsx)("label",{className:"text-[10px] font-bold tracking-[0.1em] uppercase text-zinc-400 dark:text-zinc-500 transition-colors group-hover/field:text-zinc-800 dark:group-hover/field:text-zinc-300",children:"LinkedIn Profile"}),l?(0,d.jsx)(h.Input,{value:v,onChange:e=>N(e.target.value),placeholder:"https://linkedin.com/in/username",className:"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 focus:border-zinc-900 dark:focus:border-zinc-100 focus:ring-zinc-900/10 transition-all text-zinc-900 dark:text-zinc-100 rounded-xl h-12 text-base"}):(0,d.jsx)("div",{className:"pt-0.5",children:v?(0,d.jsxs)("a",{href:v.startsWith("http")?v:`https://${v}`,target:"_blank",rel:"noopener noreferrer",className:"text-xl text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 min-h-[28px] font-semibold flex items-center gap-2.5 transition-all group/link",children:[(0,d.jsx)("div",{className:"w-5 h-5 flex items-center justify-center bg-blue-50 dark:bg-blue-900/30 rounded text-blue-600 dark:text-blue-400 group-hover/link:bg-blue-100 transition-colors",children:(0,d.jsx)("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,d.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),(0,d.jsx)("span",{className:"truncate",children:v.replace(/^(?:https?:\/\/)?(?:www\.)?linkedin\.com\/in\//,"").replace(/\/$/,"")})]}):(0,d.jsx)("p",{className:"text-xl font-semibold text-zinc-950 dark:text-zinc-50 min-h-[28px]",children:(0,d.jsx)("span",{className:"text-zinc-400 font-normal italic",children:"Not Set"})})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-3 group/field",children:[(0,d.jsx)("label",{className:"text-[10px] font-bold tracking-[0.1em] uppercase text-zinc-400 dark:text-zinc-500 transition-colors group-hover/field:text-zinc-800 dark:group-hover/field:text-zinc-300",children:"Access Role"}),(0,d.jsx)("div",{className:"pt-0.5",children:(0,d.jsx)("div",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 text-sm font-bold uppercase tracking-wider border border-zinc-200 dark:border-zinc-700",children:a||"Member"})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-3 group/field",children:[(0,d.jsx)("label",{className:"text-[10px] font-bold tracking-[0.1em] uppercase text-zinc-400 dark:text-zinc-500 transition-colors group-hover/field:text-zinc-800 dark:group-hover/field:text-zinc-300",children:"Current Workspace"}),(0,d.jsx)("div",{className:"pt-0.5",children:(0,d.jsx)("p",{className:"text-xl font-semibold text-zinc-950 dark:text-zinc-50 truncate",children:e||"Unclutr HQ"})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-3 opacity-60 md:col-span-2 lg:col-span-2",children:[(0,d.jsx)("label",{className:"text-[10px] font-bold tracking-[0.1em] uppercase text-zinc-400 dark:text-zinc-500",children:"Registered Email"}),(0,d.jsx)("div",{className:"flex items-center gap-2 min-w-0 pt-0.5",children:(0,d.jsx)("p",{className:"text-xl font-semibold text-zinc-950 dark:text-zinc-50 truncate min-w-0 flex-1",children:t.email})})]})]})]}):null}e.s(["UserProfileCard",()=>I],3291);var U=e.i(78894),q=e.i(31278),L=e.i(3116),F=e.i(30009);let O=a.default.env.NEXT_PUBLIC_API_URL||"http://localhost:8000";var W=((r={}).DATASOURCE="DATASOURCE",r.WORKSPACE_DELETION="WORKSPACE_DELETION",r);let $=async e=>{let t=s.auth.currentUser;if(!t)throw Error("User not authenticated");let r=await t.getIdToken(),a=await fetch(`${O}/api/v1/datasources/request`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(e)});if(!a.ok){let e=await a.text();throw Error(`Failed to create request: ${a.status} ${e}`)}return a.json()},M=async()=>{let e=s.auth.currentUser;if(!e)throw Error("User not authenticated");let t=await e.getIdToken(),r=await fetch(`${O}/api/v1/datasources/requests`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!r.ok){let e=await r.text();throw Error(`Failed to fetch requests: ${r.status} ${e}`)}return r.json()},H=async e=>{let t=s.auth.currentUser;if(!t)throw Error("User not authenticated");let r=await t.getIdToken(),a=await fetch(`${O}/api/v1/datasources/requests/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}});if(!a.ok&&404!==a.status){let e=await a.text();throw Error(`Failed to cancel request: ${a.status} ${e}`)}};function G(){let[e,t]=(0,i.useState)(!1),[r,a]=(0,i.useState)(!1),[s,l]=(0,i.useState)(!1),[c,o]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{try{let e=(await M()).find(e=>e.request_type===W.WORKSPACE_DELETION&&"REJECTED"!==e.status&&"APPROVED"!==e.status);e&&(l(!0),o(e.id))}catch(e){console.error("Failed to check deletion request status",e)}})()},[]);let h=async()=>{a(!0);try{let e=await $({name:"Workspace Deletion Request",category:"System",request_type:W.WORKSPACE_DELETION,payload:{reason:"User requested deletion via settings"}});n.toast.success("Request Received",{description:"We've started the protocol. We'll be in touch."}),t(!1),l(!0),o(e.id)}catch(e){console.error(e),n.toast.error("Request Failed",{description:"Something went wrong. Please try again or contact support."})}finally{a(!1)}},u=async()=>{if(c){a(!0);try{await H(c),n.toast.success("Request Cancelled",{description:"Your data is safe. We've withdrawn the request."}),l(!1),o(null)}catch(e){console.error(e),n.toast.error("Cancellation Failed",{description:"We couldn't withdraw the request. Try again?"})}finally{a(!1)}}};return s?(0,d.jsxs)("div",{className:"p-8 rounded-xl border border-yellow-100 dark:border-yellow-900/30 bg-yellow-50/30 dark:bg-yellow-900/10 shadow-sm transition-all",children:[(0,d.jsx)("div",{className:"flex items-start justify-between mb-6",children:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("h3",{className:"text-base font-medium text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[(0,d.jsx)(L.Clock,{className:"w-4 h-4"}),"Deletion request submitted"]}),(0,d.jsx)("p",{className:"text-sm text-yellow-600/80 dark:text-yellow-400/70 max-w-sm",children:"This request will take a few days to process."})]})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-zinc-900 rounded-lg border border-yellow-100 dark:border-yellow-900/30",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Request Submitted"}),(0,d.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"We will contact you shortly."})]}),(0,d.jsx)(x.Button,{disabled:!0,variant:"outline",size:"sm",className:"border-yellow-200 text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 dark:border-yellow-900/50 dark:text-yellow-400 opacity-100 cursor-not-allowed",children:"Submitted"})]}),(0,d.jsx)("div",{className:"text-center pt-2",children:(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Think it's a mistake?"," ",(0,d.jsx)("button",{onClick:u,disabled:r,className:"text-red-600 dark:text-red-400 hover:underline font-medium disabled:opacity-50",children:r?"Withdrawing...":"Withdraw your request"})]})})]})]}):(0,d.jsxs)("div",{className:"p-8 rounded-2xl border border-red-100 dark:border-red-900/30 bg-red-50/30 dark:bg-red-900/10 shadow-[0_2px_10px_-4px_rgba(239,68,68,0.05)] transition-all duration-300 hover:shadow-[0_8px_30px_-12px_rgba(239,68,68,0.1)] hover:border-red-200 dark:hover:border-red-900/50 backdrop-blur-xl group",children:[(0,d.jsx)("div",{className:"flex items-start justify-between mb-6",children:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("h3",{className:"text-xl font-bold tracking-tight text-red-700 dark:text-red-400 flex items-center gap-2",children:[(0,d.jsx)(U.AlertTriangle,{className:"w-5 h-5"}),"Danger Zone"]}),(0,d.jsx)("p",{className:"text-base text-red-600/80 dark:text-red-400/70 max-w-sm",children:"Irreversible actions. Proceed with caution."})]})}),(0,d.jsx)("div",{className:"space-y-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between gap-6 p-5 bg-white/80 dark:bg-zinc-900/80 rounded-xl border border-red-100 dark:border-red-900/30 backdrop-blur-sm transition-all hover:border-red-200 dark:hover:border-red-900/50",children:[(0,d.jsxs)("div",{className:"flex-1 max-w-[400px]",children:[(0,d.jsx)("h4",{className:"text-sm font-bold text-zinc-900 dark:text-zinc-100",children:"Delete Workspace"}),(0,d.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1.5",children:"Permanently remove all data and access."})]}),(0,d.jsxs)(F.AlertDialog,{open:e,onOpenChange:t,children:[(0,d.jsx)(F.AlertDialogTrigger,{asChild:!0,children:(0,d.jsxs)(x.Button,{variant:"outline",size:"sm",className:"border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700 hover:border-red-300 dark:border-red-900/50 dark:text-red-400 dark:hover:bg-red-900/20 transition-all rounded-lg h-9 shrink-0",children:[(0,d.jsx)(y.Trash2,{className:"w-4 h-4 mr-2"}),"Delete"]})}),(0,d.jsx)(F.AlertDialogContent,{className:"border-red-200 dark:border-red-900/40 rounded-2xl p-0 overflow-hidden bg-white/95 dark:bg-zinc-900/95 backdrop-blur-xl shadow-2xl",children:(0,d.jsxs)("div",{className:"p-8",children:[(0,d.jsxs)(F.AlertDialogHeader,{children:[(0,d.jsxs)(F.AlertDialogTitle,{className:"text-red-600 dark:text-red-400 flex items-center gap-2.5 text-xl font-bold",children:[(0,d.jsx)(U.AlertTriangle,{className:"w-5 h-5"}),"Request Workspace Deletion?"]}),(0,d.jsx)(F.AlertDialogDescription,{className:"text-base mt-3 text-zinc-600 dark:text-zinc-400 leading-relaxed",children:"This action cannot be undone. Our team will review your request and get back to you shortly to finalize the deletion of your workspace."})]}),(0,d.jsxs)(F.AlertDialogFooter,{className:"mt-8 gap-3",children:[(0,d.jsx)(F.AlertDialogCancel,{disabled:r,className:"rounded-xl border-zinc-200 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-all",children:"Cancel"}),(0,d.jsx)(F.AlertDialogAction,{onClick:e=>{e.preventDefault(),h()},disabled:r,className:"bg-red-600 hover:bg-red-700 text-white border-0 dark:bg-red-600 dark:hover:bg-red-700 transition-all shadow-lg shadow-red-500/20 rounded-xl font-medium",children:r?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Request..."]}):"Submit Deletion Request"})]})]})})]})]})})]})}e.s(["DangerZone",()=>G],71946)}]);