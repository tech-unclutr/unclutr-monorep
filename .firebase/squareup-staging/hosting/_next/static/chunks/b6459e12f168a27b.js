(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43531,78745,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["default",()=>t],78745),e.s(["Check",()=>t],43531)},7233,3908,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["default",()=>t],3908),e.s(["Plus",()=>t],7233)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},75254,e=>{"use strict";var t=e.i(71645);let i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:l="",children:o,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...a,width:i,height:i,stroke:e,strokeWidth:r?24*Number(s)/Number(i):s,className:n("lucide",l),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,i])=>(0,t.createElement)(e,i)),...Array.isArray(o)?o:[o]])),r=(e,a)=>{let r=(0,t.forwardRef)(({className:r,...l},o)=>(0,t.createElement)(s,{ref:o,iconNode:a,className:n(`lucide-${i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...l}));return r.displayName=i(e),r};e.s(["default",()=>r],75254)},67881,91918,25913,e=>{"use strict";var t=e.i(43476),i=e.i(71645),n=e.i(20783),a=Symbol.for("react.lazy"),s=i[" use ".trim().toString()];function r(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===a&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function l(e){var a;let l,o=(a=e,(l=i.forwardRef((e,t)=>{let{children:a,...l}=e;if(r(a)&&"function"==typeof s&&(a=s(a._payload)),i.isValidElement(a)){var o;let e,s,r=(o=a,(s=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(s=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),c=function(e,t){let i={...t};for(let n in t){let a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?i[n]=(...e)=>{let t=s(...e);return a(...e),t}:a&&(i[n]=a):"style"===n?i[n]={...a,...s}:"className"===n&&(i[n]=[a,s].filter(Boolean).join(" "))}return{...e,...i}}(l,a.props);return a.type!==i.Fragment&&(c.ref=t?(0,n.composeRefs)(t,r):r),i.cloneElement(a,c)}return i.Children.count(a)>1?i.Children.only(null):null})).displayName=`${a}.SlotClone`,l),c=i.forwardRef((e,n)=>{let{children:a,...l}=e;r(a)&&"function"==typeof s&&(a=s(a._payload));let c=i.Children.toArray(a),u=c.find(d);if(u){let e=u.props.children,a=c.map(t=>t!==u?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,t.jsx)(o,{...l,ref:n,children:i.isValidElement(e)?i.cloneElement(e,void 0,a):null})}return(0,t.jsx)(o,{...l,ref:n,children:a})});return c.displayName=`${e}.Slot`,c}var o=l("Slot"),c=Symbol("radix.slottable");function d(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===c}e.s(["Slot",()=>o,"createSlot",()=>l],91918);var u=e.i(7670);let m=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,p=u.clsx,x=(e,t)=>i=>{var n;if((null==t?void 0:t.variants)==null)return p(e,null==i?void 0:i.class,null==i?void 0:i.className);let{variants:a,defaultVariants:s}=t,r=Object.keys(a).map(e=>{let t=null==i?void 0:i[e],n=null==s?void 0:s[e];if(null===t)return null;let r=m(t)||m(n);return a[e][r]}),l=i&&Object.entries(i).reduce((e,t)=>{let[i,n]=t;return void 0===n||(e[i]=n),e},{});return p(e,r,null==t||null==(n=t.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:i,className:n,...a}=t;return Object.entries(a).every(e=>{let[t,i]=e;return Array.isArray(i)?i.includes({...s,...l}[t]):({...s,...l})[t]===i})?[...e,i,n]:e},[]),null==i?void 0:i.class,null==i?void 0:i.className)};e.s(["cva",0,x],25913);var h=e.i(47163);let f=x("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground transition-all active:scale-[0.98]",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=i.forwardRef(({className:e,variant:i,size:n,asChild:a=!1,...s},r)=>(0,t.jsx)(a?o:"button",{className:(0,h.cn)(f({variant:i,size:n,className:e})),ref:r,...s}));g.displayName="Button",e.s(["Button",()=>g,"buttonVariants",()=>f],67881)},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),i=e.i(71645),n=e.i(31178),a=e.i(47414),s=e.i(74008),r=e.i(21476),l=e.i(72846),o=i,c=e.i(37806);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,i=(0,l.isHTMLElement)(e)&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=i-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:n,anchorX:a,root:s}){let r=(0,o.useId)(),l=(0,o.useRef)(null),m=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=(0,o.useContext)(c.MotionConfigContext),x=function(...e){return i.useCallback(function(...e){return t=>{let i=!1,n=e.map(e=>{let n=d(e,t);return i||"function"!=typeof n||(i=!0),n});if(i)return()=>{for(let t=0;t<n.length;t++){let i=n[t];"function"==typeof i?i():d(e[t],null)}}}}(...e),e)}(l,e?.ref);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:i,left:o,right:c}=m.current;if(n||!l.current||!e||!t)return;let d="left"===a?`left: ${o}`:`right: ${c}`;l.current.dataset.motionPopId=r;let u=document.createElement("style");p&&(u.nonce=p);let x=s??document.head;return x.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            top: ${i}px !important;
          }
        `),()=>{x.contains(u)&&x.removeChild(u)}},[n]),(0,t.jsx)(u,{isPresent:n,childRef:l,sizeRef:m,children:o.cloneElement(e,{ref:x})})}let p=({children:e,initial:n,isPresent:s,onExitComplete:l,custom:o,presenceAffectsLayout:c,mode:d,anchorX:u,root:p})=>{let h=(0,a.useConstant)(x),f=(0,i.useId)(),g=!0,y=(0,i.useMemo)(()=>(g=!1,{id:f,initial:n,isPresent:s,custom:o,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;l&&l()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[s,h,l]);return c&&g&&(y={...y}),(0,i.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[s]),i.useEffect(()=>{s||h.size||!l||l()},[s]),"popLayout"===d&&(e=(0,t.jsx)(m,{isPresent:s,anchorX:u,root:p,children:e})),(0,t.jsx)(r.PresenceContext.Provider,{value:y,children:e})};function x(){return new Map}var h=e.i(64978);let f=e=>e.key||"";function g(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let y=({children:e,custom:r,initial:l=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:m="left",root:x})=>{let[y,b]=(0,h.usePresence)(u),v=(0,i.useMemo)(()=>g(e),[e]),j=u&&!y?[]:v.map(f),w=(0,i.useRef)(!0),k=(0,i.useRef)(v),N=(0,a.useConstant)(()=>new Map),[z,C]=(0,i.useState)(v),[S,A]=(0,i.useState)(v);(0,s.useIsomorphicLayoutEffect)(()=>{w.current=!1,k.current=v;for(let e=0;e<S.length;e++){let t=f(S[e]);j.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[S,j.length,j.join("-")]);let E=[];if(v!==z){let e=[...v];for(let t=0;t<S.length;t++){let i=S[t],n=f(i);j.includes(n)||(e.splice(t,0,i),E.push(i))}return"wait"===d&&E.length&&(e=E),A(g(e)),C(v),null}let{forceRender:L}=(0,i.useContext)(n.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:S.map(e=>{let i=f(e),n=(!u||!!y)&&(v===S||j.includes(i));return(0,t.jsx)(p,{isPresent:n,initial:(!w.current||!!l)&&void 0,custom:r,presenceAffectsLayout:c,mode:d,root:x,onExitComplete:n?void 0:()=>{if(!N.has(i))return;N.set(i,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(L?.(),A(k.current),u&&b?.(),o&&o())},anchorX:m,children:e},i)})})};e.s(["AnimatePresence",()=>y],88653)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},43653,e=>{"use strict";var t=e.i(43476),i=e.i(18566),n=e.i(46932),a=e.i(88653),s=(e.i(71689),e.i(67881)),r=e.i(15426),l=e.i(71645),o=e.i(31278);let c=(0,e.i(75254).default)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);function d({isSaving:e,lastSavedAt:i}){let[n,a]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(!e&&i){a(!0);let e=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(e)}},[e,i]),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/50 border border-transparent transition-all duration-300",children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Loader2,{size:14,className:"animate-spin text-orange-600"}),(0,t.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"Auto saving..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c,{size:14,className:"text-zinc-400"}),(0,t.jsx)("span",{className:"text-xs font-medium text-zinc-500",children:"Auto saved"})]})})})}function u({children:e,title:l,subtitle:o,onNext:c,nextDisabled:u=!1,showFooter:m=!0,privacyNote:p,nextLabel:x="Continue",showSkip:h=!1,onSkip:f,maxWidth:g="max-w-3xl",titleAlign:y="left",tightHeader:b=!1}){let v=(0,i.usePathname)(),{isSaving:j,saveAndExit:w,lastSavedAt:k}=((0,i.useRouter)(),(0,r.useOnboarding)());return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-zinc-50 via-white to-orange-50/20 text-zinc-900 flex flex-col font-sans selection:bg-orange-100 selection:text-orange-900 overflow-x-hidden relative",children:[(0,t.jsxs)("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden opacity-30",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-gradient-to-br from-orange-100 to-transparent rounded-full blur-3xl"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-gradient-to-tr from-orange-50 to-transparent rounded-full blur-3xl"})]}),(0,t.jsxs)("nav",{className:"h-16 px-6 md:px-12 flex items-center justify-between sticky top-0 bg-white/80 backdrop-blur-xl z-50 border-b border-zinc-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[!1,(0,t.jsxs)(n.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-2.5",children:[(0,t.jsx)("div",{className:"relative w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg shadow-lg shadow-orange-500/20 flex items-center justify-center border border-white/20",children:(0,t.jsx)("div",{className:"w-3.5 h-3.5 bg-white rounded-[2px] shadow-sm"})}),(0,t.jsxs)("span",{className:"font-bold text-xl tracking-tighter text-zinc-900",children:["Square",(0,t.jsx)("span",{className:"text-zinc-500 font-medium",children:"Up.ai"})]})]})]}),(0,t.jsx)(d,{isSaving:j,lastSavedAt:k})]}),(0,t.jsx)("main",{className:"flex-1 flex flex-col items-center w-full relative z-10 pb-0",children:(0,t.jsx)("div",{className:`w-full ${g} px-6 py-4 md:py-6 flex flex-col`,children:(0,t.jsx)(a.AnimatePresence,{mode:"wait",children:(0,t.jsxs)(n.motion.div,{initial:{opacity:0,y:20,filter:"blur(10px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:-20,filter:"blur(10px)"},transition:{duration:.7,ease:[.22,1,.36,1]},className:"flex flex-col",children:[(l||o)&&(0,t.jsxs)("div",{className:`${b?"mb-2":"mb-6"} text-center md:text-${y}`,children:[l&&(0,t.jsx)(n.motion.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.8},className:"text-3xl md:text-4xl font-semibold tracking-tighter mb-2 text-zinc-900",children:l}),o&&(0,t.jsx)(n.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8},className:`text-base md:text-lg text-zinc-500 leading-relaxed max-w-xl font-light ${"center"===y?"mx-auto":""}`,children:o}),p&&(0,t.jsx)("p",{className:"text-xs text-zinc-400 mt-2 font-medium bg-zinc-50/50 backdrop-blur-sm inline-block px-3 py-1 rounded-lg border border-zinc-100",children:p})]}),e]},v)})})}),m&&c&&(0,t.jsxs)("div",{className:"fixed bottom-0 left-0 w-full bg-white/90 backdrop-blur-xl border-t border-zinc-100 py-5 px-6 md:px-12 z-40 flex items-center justify-between md:justify-end",children:[(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-3 text-xs text-zinc-400 font-medium mr-8",children:[(0,t.jsxs)("span",{className:"bg-zinc-100/80 border border-zinc-200 rounded-md px-2 py-1 flex items-center shadow-sm",children:[(0,t.jsx)("span",{className:"text-[10px] mr-1",children:"Enter"}),(0,t.jsx)("span",{className:"text-sm",children:"â†µ"})]}),(0,t.jsx)("span",{children:"to continue"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[h&&f&&(0,t.jsx)(s.Button,{variant:"ghost",onClick:f,disabled:j,className:"text-zinc-400 hover:text-zinc-600 hover:bg-zinc-50/50 transition-all disabled:opacity-50",children:j?"Saving...":"Skip for now"}),(0,t.jsx)(n.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 md:flex-none",children:(0,t.jsxs)(s.Button,{onClick:c,disabled:u,size:"lg",className:"w-full md:w-auto text-base px-8 h-12 rounded-lg bg-orange-600 hover:bg-orange-700 text-white shadow-lg shadow-orange-500/20 hover:shadow-xl hover:shadow-orange-500/30 transition-all duration-300 disabled:opacity-40 disabled:scale-100 disabled:cursor-not-allowed group relative overflow-hidden",children:[(0,t.jsx)("span",{className:"relative z-10",children:x}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})})]})]})]})}e.s(["OnboardingShell",()=>u],43653)},99023,e=>{"use strict";let t=(0,e.i(75254).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>t],99023)},62055,90475,e=>{"use strict";var t=e.i(43476),i=e.i(71645),n=e.i(46932),a=e.i(88653),s=e.i(43531);function r({stepNumber:e,title:r,description:l,isActive:o,isCompleted:c,children:d,summary:u,isLast:m,onEdit:p,optional:x}){let h=(0,i.useRef)(null);return(0,i.useEffect)(()=>{o&&h.current&&setTimeout(()=>{h.current?.scrollIntoView({behavior:"smooth",block:"nearest"})},300)},[o]),(0,t.jsxs)("div",{className:"flex gap-5 md:gap-8 relative group/step bg-transparent",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center flex-shrink-0 pt-1",children:[(0,t.jsx)(n.motion.div,{initial:!1,animate:{backgroundColor:c||o?"#000000":"#ffffff",borderColor:c||o?"#000000":"#e4e4e7",color:c||o?"#ffffff":"#a1a1aa",scale:o?1:.95},className:"w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 z-10 border-2 relative select-none",children:c?(0,t.jsx)(s.Check,{size:12,strokeWidth:3}):e}),!m&&(0,t.jsx)("div",{className:"flex-1 w-px bg-zinc-200 my-2 relative overflow-hidden min-h-[2rem]",children:(o||c)&&(0,t.jsx)(n.motion.div,{initial:{height:"0%"},animate:{height:"100%"},transition:{duration:.4,ease:"easeInOut"},className:"absolute top-0 left-0 w-full bg-black"})})]}),(0,t.jsxs)("div",{className:"flex-1 pb-12 pt-0.5",ref:h,children:[(0,t.jsxs)("div",{className:`flex items-start justify-between cursor-pointer transition-opacity duration-300 ${!o&&!c?"opacity-40 hover:opacity-70":"opacity-100"}`,onClick:p,children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h3",{className:`font-semibold text-lg tracking-tight transition-colors ${o||c?"text-black":"text-zinc-500"}`,children:r}),x&&(0,t.jsx)("span",{className:"text-[9px] font-bold uppercase tracking-wider text-zinc-400 bg-zinc-50 px-2 py-0.5 rounded border border-zinc-100",children:"Optional"})]}),(0,t.jsx)(a.AnimatePresence,{children:l&&o&&(0,t.jsx)(n.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-zinc-500 text-sm mt-1 mb-2 leading-relaxed max-w-lg origin-top",children:l})})]}),c&&p&&(0,t.jsx)("button",{className:"text-[10px] font-semibold uppercase tracking-wider text-zinc-400 hover:text-black transition-colors py-1 px-2",children:"Edit"})]}),(0,t.jsxs)(a.AnimatePresence,{mode:"wait",children:[o&&(0,t.jsx)(n.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:[.32,.72,0,1]},className:"overflow-hidden",children:(0,t.jsx)("div",{className:"pt-0 pb-6 px-6",children:d})},"active"),c&&u&&(0,t.jsx)(n.motion.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"pt-2 px-6 pb-6",children:u},"summary")]})]})]})}e.s(["VerticalStep",()=>r],62055);var l=e.i(55436),o=e.i(7233),c=e.i(99023),d=e.i(47163);function u({id:e,name:i,logoUrl:r,selected:l,onToggle:o,disabled:u=!1}){let m=i.toLowerCase().includes("not applicable");return(0,t.jsxs)("button",{onClick:()=>!u&&o(e),disabled:u,className:(0,d.cn)("flex flex-col items-center gap-3 p-2 group transition-all duration-150",u&&"opacity-50 cursor-not-allowed"),children:[(0,t.jsxs)(n.motion.div,{whileHover:u||l?{}:{scale:1.02},whileTap:u?{}:{scale:.95},transition:{duration:.15,ease:[.4,0,.2,1]},className:(0,d.cn)("w-16 h-16 rounded-2xl flex items-center justify-center relative transition-all duration-150","border",l?"bg-white border-zinc-200 shadow-sm":m?"bg-white border-dashed border-zinc-200 hover:border-zinc-300 hover:bg-zinc-50":"bg-white border-zinc-100 hover:border-zinc-200 hover:bg-zinc-50"),children:[m?(0,t.jsx)("div",{className:"w-6 h-6 rounded-full border border-zinc-200 flex items-center justify-center",children:(0,t.jsx)(c.Minus,{size:14,className:"text-zinc-400",strokeWidth:1.5})}):r?(0,t.jsx)("img",{src:r,alt:i,className:"w-10 h-10 object-contain"}):(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-zinc-100 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-bold text-zinc-400",children:i[0]?.toUpperCase()||"?"})}),(0,t.jsx)(a.AnimatePresence,{children:l&&(0,t.jsx)(n.motion.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.2,ease:[.16,1,.3,1]},className:"absolute -top-1 -right-1 w-5 h-5 bg-zinc-700 rounded-full flex items-center justify-center shadow-sm",children:(0,t.jsx)(s.Check,{size:12,className:"text-white",strokeWidth:2.5})})})]}),(0,t.jsx)("span",{className:(0,d.cn)("text-xs font-medium text-center leading-tight transition-colors line-clamp-2",l?"text-zinc-900":"text-zinc-600 group-hover:text-zinc-900"),children:i})]})}var m=e.i(74080),p=e.i(37727);function x({isOpen:e,onClose:s,children:r,title:l,description:o,width:c="max-w-xl",headerAction:u}){let[x,h]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{h(!0);let t=e=>{"Escape"===e.key&&s()};return e&&(document.body.style.overflow="hidden",document.addEventListener("keydown",t)),()=>{document.body.style.overflow="unset",document.removeEventListener("keydown",t)}},[e,s]),x)?(0,m.createPortal)((0,t.jsx)(a.AnimatePresence,{children:e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[100]"}),(0,t.jsxs)(n.motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:(0,d.cn)("fixed inset-y-0 right-0 z-[101] w-full bg-white shadow-2xl flex flex-col",c),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-5 border-b border-zinc-100 flex-shrink-0",children:[(0,t.jsxs)("div",{children:[l&&(0,t.jsx)("h2",{className:"text-lg font-semibold text-zinc-900",children:l}),o&&(0,t.jsx)("p",{className:"text-sm text-zinc-500 mt-0.5",children:o})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[u,(0,t.jsx)("button",{onClick:s,className:"p-2 -mr-2 text-zinc-400 hover:text-zinc-900 hover:bg-zinc-100 rounded-full transition-colors",children:(0,t.jsx)(p.X,{size:20})})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-6",children:r})]})]})}),document.body):null}var h=e.i(71689),f=e.i(31278);let g=(0,e.i(75254).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var y=e.i(54858),b=e.i(38938),v=e.i(52624),j=e.i(58249);function w({isOpen:e,onClose:r,onSelect:c,alreadySelectedIds:u,datasources:m,isLoading:p,priorityCategory:f,drawerVariant:g="channels"}){let w,{user:S}=(0,b.useAuth)(),[A,E]=(0,i.useState)(""),L=(0,v.useDebouncedValue)(A,150),[P,R]=(0,i.useState)(!1),[M,O]=(0,i.useState)("all"),_=(0,i.useRef)(null),T=(w=(0,i.useRef)(null),(0,i.useEffect)(()=>{if(!e||!w.current)return;let t=w.current,i=t.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled])'),n=i[0],a=i[i.length-1];n?.focus();let s=e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(e.preventDefault(),a?.focus()):document.activeElement===a&&(e.preventDefault(),n?.focus()))};return t.addEventListener("keydown",s),()=>{t.removeEventListener("keydown",s)}},[e]),w),[$,V]=(0,i.useState)(0),[I,W]=(0,i.useState)(""),[q,D]=(0,i.useState)(!1),[B,U]=(0,i.useState)(!1),[F,H]=(0,i.useState)(null);(0,i.useEffect)(()=>{e?(f&&O(f),(0,j.trackOnboardingEvent)("drawer_opened",{variant:g,priorityCategory:f})):(E(""),R(!1),W(""),U(!1),H(null),O("all"),V(0))},[e,g,f]);let Q=(0,i.useMemo)(()=>"stack"===g?{all:{label:"All",key:"all"},popular:{label:"Popular",key:"popular"},divider:!0,logistics:{label:"Logistics & Returns",key:"Logistics",backendCategories:["Logistics"]},payments:{label:"Payments & Settlements",key:"Payment",backendCategories:["Payment","Payouts"]},marketing:{label:"Growth & Marketing",key:"Marketing",backendCategories:["Marketing"]},analytics:{label:"Analytics",key:"Analytics",backendCategories:["Analytics"]},crm:{label:"CRM & Retention",key:"Retention",backendCategories:["Retention"]},communication:{label:"Support & Communication",key:"Communication",backendCategories:["Communication"]},accounting:{label:"Accounting & Compliance",key:"Accounting",backendCategories:["Accounting"]}}:{all:{label:"All",key:"all"},popular:{label:"Popular",key:"popular"},divider:!0,storefronts:{label:"Storefronts",key:"Storefront",backendCategories:["Storefront"]},marketplaces:{label:"Marketplaces",key:"Marketplace",backendCategories:["Marketplace"]},quickcommerce:{label:"Quick Commerce",key:"QuickCommerce",backendCategories:["QuickCommerce"]},other:{label:"Other Channels",key:"Other",backendCategories:["Network","SocialCommerce"]}},[g]),Z=(0,i.useMemo)(()=>{let e=L.toLowerCase(),t=(m||[]).filter(t=>(t.name&&t.name.toLowerCase().includes(e)||t.category&&t.category.toLowerCase().includes(e)||t.display_name&&t.display_name.toLowerCase().includes(e))&&!t.slug.includes("not_applicable"));if("popular"===M)t=t.filter(e=>e.is_common);else if("all"!==M){let e=Object.values(Q).find(e=>e.key===M);e&&"backendCategories"in e&&(t=t.filter(t=>e.backendCategories?.includes(t.category)))}let i={};if("all"===M||"popular"===M)Object.entries(Q).forEach(([e,n])=>{if("all"===e||"popular"===e||"divider"===e||!("backendCategories"in n))return;let a=t.filter(e=>n.backendCategories?.includes(e.category));a.length>0&&(i[n.label]=a)});else{let e=Object.values(Q).find(e=>e.key===M);e&&"label"in e&&(i[e.label]=t)}return i},[m,L,M,Q,g]),G=Object.values(Z).some(e=>e.length>0),X=async e=>{if(e.preventDefault(),I.trim()){D(!0),H(null);try{let e=S?await S.getIdToken():null;await y.api.post("/datasources/request",{name:I},{...e?{Authorization:`Bearer ${e}`}:{}}),(0,j.trackOnboardingEvent)("integration_requested",{datasourceName:I,variant:g}),U(!0),setTimeout(()=>{r()},1500)}catch(e){console.error(e),H("Something went wrong. Please try again.")}finally{D(!1)}}};(0,i.useEffect)(()=>{L&&e&&(0,j.trackOnboardingEvent)("drawer_search_used",{searchQuery:L,variant:g})},[L,e,g]),(0,i.useEffect)(()=>{if(!e||P)return;let t=e=>{let t=Object.values(Z).flat();if(0!==t.length)switch(e.key){case"ArrowDown":e.preventDefault(),V(e=>Math.min(e+1,t.length-1));break;case"ArrowUp":e.preventDefault(),V(e=>Math.max(e-1,0));break;case"Enter":e.preventDefault(),e.stopPropagation();let i=t[$];i&&(u.includes(i.id)?r():(c(i),(0,j.trackOnboardingEvent)("datasource_selected",{datasourceId:i.id,datasourceName:i.name,variant:g})));break;case"Escape":e.preventDefault(),r()}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,P,Z,$,c,r,g]);let K=P?"Request Integration":"stack"===g?"Your Ops Stack":"Add Sales Channel",Y=P?"Tell us what we're missing.":"stack"===g?"Find the tools you use to run your business.":"Search storefronts and marketplaces.";return(0,t.jsx)(x,{isOpen:e,onClose:r,title:K,description:Y,headerAction:P?(0,t.jsx)("button",{onClick:()=>R(!1),className:"p-2 text-zinc-400 hover:text-zinc-900 hover:bg-zinc-100 rounded-full transition-colors",title:"Back to search",children:(0,t.jsx)(h.ArrowLeft,{size:20})}):(0,t.jsx)("button",{onClick:()=>{R(!0),A&&W(A)},className:"p-2 text-zinc-400 hover:text-zinc-900 hover:bg-zinc-100 rounded-full transition-colors",title:"Request a new integration",children:(0,t.jsx)(o.Plus,{size:20})}),children:P?B?(0,t.jsx)(k,{}):(0,t.jsx)(N,{requestName:I,setRequestName:W,isSubmitting:q,requestError:F,onSubmit:X}):(0,t.jsxs)("div",{ref:T,className:"flex flex-col h-full",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-white px-6 py-3 border-b border-zinc-50 z-10",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-300",size:16}),(0,t.jsx)("input",{placeholder:"Search...",className:"w-full bg-white border border-zinc-100 rounded-lg py-2.5 pl-9 pr-4  focus:outline-none focus:border-zinc-200  placeholder:text-zinc-300 text-sm transition-all",value:A,onChange:e=>E(e.target.value),autoFocus:!0})]})}),(0,t.jsx)("div",{className:"sticky top-[57px] bg-white px-6 py-2.5 border-b border-zinc-50 overflow-x-auto z-10",children:(0,t.jsx)("div",{className:"flex gap-2 pb-0.5",children:Object.entries(Q).map(([e,i])=>"divider"===e?null:(0,t.jsx)("button",{onClick:()=>{O(i.key),(0,j.trackOnboardingEvent)("drawer_category_clicked",{category:i.label,variant:g})},className:(0,d.cn)("px-3.5 py-1.5 text-xs font-medium rounded-full whitespace-nowrap transition-all",M===i.key?"bg-zinc-900 text-white shadow-sm":"border border-zinc-200 text-zinc-600 hover:text-zinc-900 hover:border-zinc-300 hover:bg-zinc-50"),children:i.label},e))})}),(0,t.jsx)("div",{className:"flex flex-1 overflow-hidden",children:(0,t.jsx)("div",{ref:_,className:"flex-1 overflow-y-auto px-6 py-3",children:p?(0,t.jsx)(z,{}):G?(0,t.jsx)("div",{className:"space-y-6 pb-12",children:Object.entries(Z).map(([e,i])=>i.length>0&&(0,t.jsxs)("div",{children:[("all"===M||"popular"===M)&&(0,t.jsx)("h3",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-wider mb-2 px-0.5",children:e}),(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsx)(a.AnimatePresence,{mode:"popLayout",children:i.map(e=>{let i=u.includes(e.id);return(0,t.jsxs)(n.motion.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},onClick:()=>{let t=Object.values(Z).flat().findIndex(t=>t.id===e.id);-1!==t&&V(t),c(e)},className:(0,d.cn)("flex items-center gap-3 p-2.5 pr-3 rounded-lg transition-all w-full text-left",i?"bg-zinc-50 border border-zinc-200":"border border-transparent hover:bg-zinc-50"),children:[(0,t.jsx)("div",{className:"w-8 h-8 flex-shrink-0 flex items-center justify-center bg-white rounded-md border border-zinc-100 p-1",children:e.logo_url?(0,t.jsx)("img",{src:e.logo_url,alt:"",className:"w-full h-full object-contain"}):(0,t.jsx)("span",{className:"text-xs font-semibold text-zinc-300",children:e.name[0]})}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)("div",{className:"text-sm font-medium text-zinc-700 truncate",children:e.display_name||e.name})}),(0,t.jsx)(a.AnimatePresence,{children:i&&(0,t.jsx)(n.motion.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.15,ease:[.16,1,.3,1]},className:"flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(s.Check,{size:16,className:"text-zinc-600",strokeWidth:2.5})})})]},e.id)})})})]},e))}):(0,t.jsx)(C,{searchQuery:A,onRequestClick:()=>{R(!0),W(A)}})})}),(0,t.jsx)("div",{className:"sticky bottom-0 bg-white border-t border-zinc-50 px-6 py-2.5",children:(0,t.jsxs)("button",{onClick:()=>R(!0),className:"text-xs text-zinc-400 hover:text-zinc-600 flex items-center gap-1.5 mx-auto transition-colors",children:[(0,t.jsx)(o.Plus,{size:14}),"Can't find it? Request here"]})})]})})}function k(){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-in fade-in zoom-in duration-300",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-50 text-green-600 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(s.Check,{size:32,strokeWidth:3})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-zinc-900",children:"Request Sent!"}),(0,t.jsx)("p",{className:"text-zinc-500 mt-2 max-w-xs mx-auto",children:"We'll look into adding this integration properly."})]})}function N({requestName:e,setRequestName:i,isSubmitting:n,requestError:a,onSubmit:s}){return(0,t.jsxs)("form",{onSubmit:s,className:"space-y-6 pt-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Platform Name"}),(0,t.jsx)("input",{className:"w-full bg-white border border-zinc-200 rounded-xl px-4 py-3  focus:ring-2 focus:ring-black/5 focus:border-zinc-400 outline-none transition-all",placeholder:"e.g. Hulu Commerce",value:e,onChange:e=>i(e.target.value),autoFocus:!0})]}),(0,t.jsx)("div",{className:"bg-zinc-50 rounded-xl p-4 text-sm text-zinc-600 border border-zinc-100",children:"We usually build new integrations within 3-5 days. You'll be notified when it's ready."}),a&&(0,t.jsx)("div",{className:"text-sm text-red-500 bg-red-50 p-3 rounded-xl border border-red-100",children:a}),(0,t.jsxs)("button",{type:"submit",disabled:!e.trim()||n,className:"w-full bg-zinc-900 text-white font-medium py-3.5 rounded-xl  hover:bg-zinc-800 disabled:opacity-50 disabled:cursor-not-allowed  transition-all flex items-center justify-center gap-2",children:[n?(0,t.jsx)(f.Loader2,{size:18,className:"animate-spin"}):(0,t.jsx)(g,{size:18}),n?"Sending...":"Send Request"]})]})}function z(){return(0,t.jsx)("div",{className:"space-y-2",children:[1,2,3,4,5,6].map(e=>(0,t.jsx)("div",{className:"h-14 bg-zinc-50 rounded-xl animate-pulse"},e))})}function C({searchQuery:e,onRequestClick:i}){return(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-zinc-50 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,t.jsx)(l.Search,{className:"text-zinc-400"})}),(0,t.jsx)("p",{className:"text-zinc-900 font-medium",children:e?`No matches for "${e}"`:"No results found"}),e&&(0,t.jsxs)("button",{onClick:i,className:"text-sm text-orange-600 font-medium mt-2 hover:underline",children:['Request "',e,'" here']})]})}function S({category:e,commonSources:s=[],allSources:r=[],isLoading:c=!1,selectedIds:d=[],globalSelectedIds:m,priorityCategory:p,onToggle:x,onGlobalSelect:h,singleSelect:f=!1,maxItems:g,maxError:y,showSearch:b=!0,drawerVariant:v="channels"}){let[j,k]=(0,i.useState)(!1),[N,z]=(0,i.useState)("");r&&r.length;let C=r&&r.length>0?r:s,S=Array.isArray(d)?d:[],A=(r||[]).filter(e=>S.includes(e.id)&&!s.find(t=>t.id===e.id)),E=[...s,...A],L=(N?C.filter(e=>e.name&&e.name.toLowerCase().includes(N.toLowerCase())||e.display_name&&e.display_name.toLowerCase().includes(N.toLowerCase())).slice(0,5):E).sort((e,t)=>e.name.includes("Not Applicable")?1:t.name.includes("Not Applicable")?-1:0),P=e=>{(!g||S.includes(e)||!(S.length>=g))&&x(e,f)};return(0,t.jsxs)("div",{className:"space-y-6",children:[b&&(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(l.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-orange-500 transition-colors",size:18}),(0,t.jsx)("input",{type:"text",placeholder:"Search popular...",value:N,onChange:e=>z(e.target.value),className:"w-full h-12 pl-11 pr-4 bg-zinc-50 hover:bg-zinc-100 focus:bg-white border text-sm border-transparent focus:border-zinc-200 rounded-xl transition-all outline-none placeholder:text-zinc-400 text-zinc-900 shadow-sm focus:shadow-md"})]}),(0,t.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-y-6 gap-x-2",children:(0,t.jsxs)(a.AnimatePresence,{mode:"popLayout",children:[L.map(e=>(0,t.jsx)(n.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:(0,t.jsx)(u,{id:e.id,name:e.name.includes("Not Applicable")?"Not Applicable":e.display_name||e.name,logoUrl:e.logo_url,selected:S.includes(e.id),onToggle:P})},e.id)),!N&&(0,t.jsxs)(n.motion.button,{layout:!0,whileHover:{scale:1.02},whileTap:{scale:.95},onClick:()=>k(!0),className:"flex flex-col items-center gap-3 p-2 group",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center bg-white border border-dashed border-zinc-300 group-hover:border-zinc-400 group-hover:bg-zinc-50 transition-all",children:(0,t.jsx)(o.Plus,{size:24,className:"text-zinc-400 group-hover:text-zinc-600"})}),(0,t.jsx)("span",{className:"text-xs font-medium text-zinc-400 group-hover:text-zinc-600",children:"Add more"})]})]})}),g&&d.length>=g&&(0,t.jsx)("p",{className:"text-xs text-amber-600 bg-amber-50 px-3 py-2 rounded-lg inline-block",children:y||`Maximum ${g} selected.`}),(0,t.jsx)(w,{isOpen:j,onClose:()=>k(!1),alreadySelectedIds:m||d,onSelect:e=>{h?h(e):P(e.id)},datasources:r,isLoading:c,priorityCategory:p,drawerVariant:v})]})}e.s(["ChipSelector",()=>S],90475)},60015,e=>{"use strict";var t=e.i(43476),i=e.i(71645),n=e.i(18566),a=e.i(99023),s=e.i(43653),r=e.i(62055),l=e.i(90475),o=e.i(15426),c=e.i(38938),d=e.i(54858),u=e.i(70756);function m(){let e=(0,n.useRouter)(),{state:m,updateStack:p,saveAndExit:x,saveCurrentPage:h}=(0,o.useOnboarding)(),{user:f,loading:g}=(0,c.useAuth)(),[y,b]=(0,i.useState)("shipping"),[v,j]=(0,i.useState)([]),[w,k]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{if(!g&&f)try{let e=await f.getIdToken(),t=await d.api.get("/datasources/",{headers:{Authorization:`Bearer ${e}`}});Array.isArray(t)?j(t):t&&Array.isArray(t.data)?j(t.data):(console.error("Unexpected datasources response format:",t),j([]))}catch(e){console.error("Failed to fetch datasources:",e),alert("Failed to load stack options. Please refresh the page or check your connection.")}finally{k(!1)}})()},[f,g]);let N=(0,i.useMemo)(()=>({shipping:v.filter(e=>"Logistics"===e.category),payments:v.filter(e=>["Payment","Payouts"].includes(e.category)),marketing:v.filter(e=>"Marketing"===e.category),analytics:v.filter(e=>["Analytics","Retention","Communication"].includes(e.category)),finance:v.filter(e=>"Accounting"===e.category)}),[v]),z=e=>e&&e.length>0,C=async()=>{"shipping"===y?b("payments"):"payments"===y?b("marketing"):"marketing"===y?b("analytics"):"analytics"===y?b("finance"):"finance"===y&&await E()},[S,A]=(0,i.useState)(!1),E=async()=>{if(!S){A(!0);try{f&&await h()}catch(e){console.error("Failed to save stack data:",e)}finally{e.push("/onboarding/finish")}}};(0,i.useEffect)(()=>{let e=e=>{e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||"Enter"===e.key&&(e.preventDefault(),C())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[y]);let L=e=>{if(!e||0===e.length)return(0,t.jsx)("p",{className:"text-sm text-zinc-400 italic",children:"None selected"});let i=v.filter(t=>e.includes(t.id));return(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:i.map(e=>{let i=e.name?.toLowerCase().includes("not applicable");return(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 bg-white border border-zinc-200 shadow-sm rounded-lg px-2.5 py-1",children:[i?(0,t.jsx)("div",{className:"w-4 h-4 rounded-full border border-zinc-200 flex items-center justify-center",children:(0,t.jsx)(a.Minus,{size:10,className:"text-zinc-400",strokeWidth:1.5})}):e.logo_url?(0,t.jsx)("img",{src:e.logo_url,alt:"",className:"w-4 h-4 object-contain"}):(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-zinc-100 flex items-center justify-center text-[8px] font-bold",children:e.name[0]}),(0,t.jsx)("span",{className:"text-xs font-medium text-zinc-700",children:e.display_name||e.name})]},e.id)})})},P=(e,t,i)=>{let n=m.stack[e]||[],a=i.find(e=>e.id===t),s=a?.name?.toLowerCase().includes("not applicable"),r=n.find(e=>{let t=i.find(t=>t.id===e);return t?.name?.toLowerCase().includes("not applicable")});p({[e]:s?n.includes(t)?[]:[t]:n.includes(t)?n.filter(e=>e!==t):n.filter(e=>e!==r).concat(t)})};return(0,t.jsx)(s.OnboardingShell,{title:"Your Ops Stack",subtitle:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Tell us what tools you use today. We'll use this only to personalize your Integrations page later."}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-zinc-500",children:[(0,t.jsx)(u.Lock,{size:14,className:"text-zinc-400"}),(0,t.jsx)("span",{children:"No logins required. Update anytime."})]})]}),onNext:C,nextLabel:"finance"===y?S?"Saving...":"Complete Setup":"Continue",nextDisabled:S,showSkip:!0,onSkip:x,children:(0,t.jsxs)("div",{className:"mt-8 max-w-xl mx-auto pb-24 space-y-2",children:[(0,t.jsx)(r.VerticalStep,{stepNumber:1,title:"Logistics & Returns",description:"Which tools do you use to ship orders and handle returns?",isActive:"shipping"===y,isCompleted:z(m.stack.shipping)&&"shipping"!==y,onEdit:()=>b("shipping"),summary:L(m.stack.shipping),children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)(l.ChipSelector,{category:"Logistics",commonSources:N.shipping.filter(e=>e.is_common),allSources:v,selectedIds:m.stack.shipping,onToggle:e=>P("shipping",e,v),showSearch:!1,drawerVariant:"stack",priorityCategory:"Logistics"})})}),(0,t.jsx)(r.VerticalStep,{stepNumber:2,title:"Payments & Settlements",description:"Which tools touch your money flow? (Gateways, Payouts, etc)",isActive:"payments"===y,isCompleted:z(m.stack.payments)&&"payments"!==y,onEdit:()=>b("payments"),summary:L(m.stack.payments),children:(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(l.ChipSelector,{category:"Payment",commonSources:N.payments.filter(e=>e.is_common),allSources:v,selectedIds:m.stack.payments,onToggle:e=>P("payments",e,v),showSearch:!1,drawerVariant:"stack",priorityCategory:"Payment"})})}),(0,t.jsx)(r.VerticalStep,{stepNumber:3,title:"Growth & Marketing",description:"Which ad platforms do you actively spend on?",isActive:"marketing"===y,isCompleted:z(m.stack.marketing)&&"marketing"!==y,onEdit:()=>b("marketing"),summary:L(m.stack.marketing),children:(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(l.ChipSelector,{category:"Marketing",commonSources:N.marketing.filter(e=>e.is_common),allSources:v,selectedIds:m.stack.marketing,onToggle:e=>P("marketing",e,v),showSearch:!1,drawerVariant:"stack",priorityCategory:"Marketing"})})}),(0,t.jsx)(r.VerticalStep,{stepNumber:4,title:"Analytics, CRM & Customer Ops",description:"Which tools do you use to track users and talk to customers?",isActive:"analytics"===y,isCompleted:z(m.stack.analytics)&&"analytics"!==y,onEdit:()=>b("analytics"),isLast:!1,summary:L(m.stack.analytics),children:(0,t.jsx)(l.ChipSelector,{category:"Analytics, CRM & Customer Ops",commonSources:N.analytics.filter(e=>e.is_common),allSources:v,selectedIds:m.stack.analytics,onToggle:e=>P("analytics",e,v),showSearch:!1,drawerVariant:"stack",priorityCategory:"Analytics"})}),(0,t.jsx)(r.VerticalStep,{stepNumber:5,title:"Accounting",description:"Optional: Connect your accounting software for profitability tracking.",isActive:"finance"===y,isCompleted:z(m.stack.finance)&&"finance"!==y,onEdit:()=>b("finance"),isLast:!0,optional:!0,summary:L(m.stack.finance),children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-emerald-50/50 rounded-xl p-4 border border-emerald-100/50 mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-emerald-900 leading-relaxed",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Pro Tip:"})," Connecting Tally/Zoho now enables true profit calculation later."]})}),(0,t.jsx)(l.ChipSelector,{category:"Accounting",commonSources:N.finance.filter(e=>e.is_common),allSources:v,selectedIds:m.stack.finance,onToggle:e=>P("finance",e,v),showSearch:!1,drawerVariant:"stack",priorityCategory:"Accounting"})]})})]})})}e.s(["default",()=>m])}]);